/*
 * popcorn.js version 1.5.6
 * http://popcornjs.org
 *
 * Copyright 2011, Mozilla Foundation
 * Licensed under the MIT license
 */

!function(e,t){function n(e){b.put.call(this,e)}function i(e){this.parent=e,this.byStart=[{start:-1,end:-1}],this.byEnd=[{start:-1,end:-1}],this.animating=[],this.startIndex=0,this.endIndex=0,this.previousUpdateTime=-1,this.count=1}function a(e,t,n){return e[t]&&e[t]===n}function r(e,t){var n={};for(var i in e)c.call(t,i)&&c.call(e,i)&&(n[i]=e[i]);return n}function o(e,t){return function(){if(w.plugin.debug)return e.apply(this,arguments);try{return e.apply(this,arguments)}catch(n){w.plugin.errors.push({plugin:t,thrown:n,source:e.toString()}),this.emit("pluginerror",w.plugin.errors)}}}if(t.addEventListener){var s=Array.prototype,u=Object.prototype,d=s.forEach,l=s.slice,c=u.hasOwnProperty,p=u.toString,f=e.Popcorn,m=[],h=!1,g=!1,y={events:{hash:{},apis:{}}},v=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,16)}}(),E=function(e){return Object.keys?Object.keys(e):function(e){var t,n=[];for(t in e)c.call(e,t)&&n.push(t);return n}(e)},b={put:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}},w=function(e,t){return new w.p.init(e,t||null)};w.version="1.5.6",w.isSupported=!0,w.instances=[],w.p=w.prototype={init:function(e,n){var a,r,o=this;{if("function"!=typeof e){if("string"==typeof e)try{a=t.querySelector(e)}catch(s){throw new Error("Popcorn.js Error: Invalid media element selector: "+e)}if(this.media=a||e,r=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video",this[r]=this.media,this.options=w.extend({},n)||{},this.id=this.options.id||w.guid(r),w.byId(this.id))throw new Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=!1,this.data={running:{cue:[]},timeUpdate:w.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:new i(this)},w.instances.push(this);var u=function(){o.media.currentTime<0&&(o.media.currentTime=0),o.media.removeEventListener("loadedmetadata",u,!1);var e,t,n,i,a,r;e=o.media.duration,t=e!=e?Number.MAX_VALUE:e+1,w.addTrackEvent(o,{start:t,end:t}),o.isDestroyed||(o.data.durationChange=function(){var e=o.media.duration,t=e+1,n=o.data.trackEvents.byStart,i=o.data.trackEvents.byEnd;n.pop(),i.pop();for(var a=i.length-1;a>0;a--)i[a].end>e&&o.removeTrackEvent(i[a]._id);for(var r=0;r<n.length;r++)n[r].end>e&&o.removeTrackEvent(n[r]._id);o.data.trackEvents.byEnd.push({start:t,end:t}),o.data.trackEvents.byStart.push({start:t,end:t})},o.media.addEventListener("durationchange",o.data.durationChange,!1)),o.options.frameAnimation?(o.data.timeUpdate=function(){w.timeUpdate(o,{}),w.forEach(w.manifest,function(e,t){if(n=o.data.running[t]){a=n.length;for(var s=0;a>s;s++)i=n[s],r=i._natives,r&&r.frame&&r.frame.call(o,{},i,o.currentTime())}}),o.emit("timeupdate"),!o.isDestroyed&&v(o.data.timeUpdate)},!o.isDestroyed&&v(o.data.timeUpdate)):(o.data.timeUpdate=function(e){w.timeUpdate(o,e)},o.isDestroyed||o.media.addEventListener("timeupdate",o.data.timeUpdate,!1))};return o.media.addEventListener("error",function(){o.error=o.media.error},!1),o.media.readyState>=1?u():o.media.addEventListener("loadedmetadata",u,!1),this}if("complete"===t.readyState)return void e(t,w);if(m.push(e),!h){h=!0;var d=function(){g=!0,t.removeEventListener("DOMContentLoaded",d,!1);for(var e=0,n=m.length;n>e;e++)m[e].call(t,w);m=null};t.addEventListener("DOMContentLoaded",d,!1)}}}},w.p.init.prototype=w.p,w.byId=function(e){for(var t=w.instances,n=t.length,i=0;n>i;i++)if(t[i].id===e)return t[i];return null},w.forEach=function(e,t,n){if(!e||!t)return{};n=n||this;var i,a;if(d&&e.forEach===d)return e.forEach(t,n);if("[object NodeList]"===p.call(e)){for(i=0,a=e.length;a>i;i++)t.call(n,e[i],i,e);return e}for(i in e)c.call(e,i)&&t.call(n,e[i],i,e);return e},w.extend=function(e){var t=e,n=l.call(arguments,1);return w.forEach(n,function(e){for(var n in e)t[n]=e[n]}),t},w.extend(w,{noConflict:function(t){return t&&(e.Popcorn=f),w},error:function(e){throw new Error(e)},guid:function(e){return w.guid.counter++,(e?e:"")+(+new Date+w.guid.counter)},sizeOf:function(e){var t=0;for(var n in e)t++;return t},isArray:Array.isArray||function(e){return"[object Array]"===p.call(e)},nop:function(){},position:function(n){if(!n.parentNode)return null;var i,a,r,o,s,u,d=n.getBoundingClientRect(),l={},c=(n.ownerDocument,t.documentElement),p=t.body;i=c.clientTop||p.clientTop||0,a=c.clientLeft||p.clientLeft||0,r=e.pageYOffset&&c.scrollTop||p.scrollTop,o=e.pageXOffset&&c.scrollLeft||p.scrollLeft,s=Math.ceil(d.top+r-i),u=Math.ceil(d.left+o-a);for(var f in d)l[f]=Math.round(d[f]);return w.extend({},l,{top:s,left:u})},disable:function(e,t){if(!e.data.disabled[t]){if(e.data.disabled[t]=!0,t in w.registryByName&&e.data.running[t])for(var n,i=e.data.running[t].length-1;i>=0;i--)n=e.data.running[t][i],n._natives.end.call(e,null,n),e.emit("trackend",w.extend({},n,{plugin:n.type,type:"trackend"}));return e}},enable:function(e,t){if(e.data.disabled[t]){if(e.data.disabled[t]=!1,t in w.registryByName&&e.data.running[t])for(var n,i=e.data.running[t].length-1;i>=0;i--)n=e.data.running[t][i],n._natives.start.call(e,null,n),e.emit("trackstart",w.extend({},n,{plugin:n.type,type:"trackstart",track:n}));return e}},destroy:function(e){var t,n,i,a,r=e.data.events,o=e.data.trackEvents;for(n in r){t=r[n];for(i in t)delete t[i];r[n]=null}for(a in w.registryByName)w.removePlugin(e,a);o.byStart.length=0,o.byEnd.length=0,e.isDestroyed||(e.data.timeUpdate&&e.media.removeEventListener("timeupdate",e.data.timeUpdate,!1),e.isDestroyed=!0),w.instances.splice(w.instances.indexOf(e),1)}}),w.guid.counter=1,w.extend(w.p,function(){var e="load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended",t={};return w.forEach(e.split(/\s+/g),function(e){t[e]=function(t){var n;return"function"==typeof this.media[e]?(null!=t&&/play|pause/.test(e)&&(this.media.currentTime=w.util.toSeconds(t)),this.media[e](),this):null!=t?(n=this.media[e],this.media[e]=t,n!==t&&this.emit("attrchange",{attribute:e,previousValue:n,currentValue:t}),this):this.media[e]}}),t}()),w.forEach("enable disable".split(" "),function(e){w.p[e]=function(t){return w[e](this,t)}}),w.extend(w.p,{roundTime:function(){return Math.round(this.media.currentTime)},exec:function(e,t,i){var a,r,o,s=arguments.length,u="trackadded";try{r=w.util.toSeconds(e)}catch(d){}if("number"==typeof r&&(e=r),"number"==typeof e&&2===s)i=t,t=e,e=w.guid("cue");else if(1===s)t=-1;else if(a=this.getTrackEvent(e))this.data.trackEvents.remove(e),n.end(this,a),w.removeTrackEvent.ref(this,e),u="cuechange","string"==typeof e&&2===s&&("number"==typeof t&&(i=a._natives.start),"function"==typeof t&&(i=t,t=a.start));else if(s>=2){if("string"==typeof t){try{r=w.util.toSeconds(t)}catch(d){}t=r}"number"==typeof t&&(i=i||w.nop()),"function"==typeof t&&(i=t,t=-1)}return o={id:e,start:t,end:t+1,_running:!1,_natives:{start:i||w.nop,end:w.nop,type:"cue"}},a&&(o=w.extend(a,o)),"cuechange"===u?(o._id=o.id||o._id||w.guid(o._natives.type),this.data.trackEvents.add(o),n.start(this,o),this.timeUpdate(this,null,!0),w.addTrackEvent.ref(this,o),this.emit(u,w.extend({},o,{id:e,type:u,previousValue:{time:a.start,fn:a._natives.start},currentValue:{time:t,fn:i||w.nop},track:a}))):w.addTrackEvent(this,o),this},mute:function(e){var t=null==e||e===!0?"muted":"unmuted";return"unmuted"===t&&(this.media.muted=!1,this.media.volume=this.data.state.volume),"muted"===t&&(this.data.state.volume=this.media.volume,this.media.muted=!0),this.emit(t),this},unmute:function(e){return this.mute(null==e?!1:!e)},position:function(){return w.position(this.media)},toggle:function(e){return w[this.data.disabled[e]?"enable":"disable"](this,e)},defaults:function(e,t){return w.isArray(e)?(w.forEach(e,function(e){for(var t in e)this.defaults(t,e[t])},this),this):(this.options.defaults||(this.options.defaults={}),this.options.defaults[e]||(this.options.defaults[e]={}),w.extend(this.options.defaults[e],t),this)}}),w.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"},w.Events.Natives=w.Events.UIEvents+" "+w.Events.MouseEvents+" "+w.Events.Events,y.events.apiTypes=["UIEvents","MouseEvents","Events"],function(e,t){for(var n=y.events.apiTypes,i=e.Natives.split(/\s+/g),a=0,r=i.length;r>a;a++)t.hash[i[a]]=!0;n.forEach(function(n){t.apis[n]={};for(var i=e[n].split(/\s+/g),a=i.length,r=0;a>r;r++)t.apis[n][i[r]]=!0})}(w.Events,y.events),w.events={isNative:function(e){return!!y.events.hash[e]},getInterface:function(e){if(!w.events.isNative(e))return!1;for(var t,n,i=y.events,a=i.apiTypes,r=i.apis,o=0,s=a.length;s>o;o++)if(n=a[o],r[n][e]){t=n;break}return t},all:w.Events.Natives.split(/\s+/g),fn:{trigger:function(n,i){var a,r,o,s=this.data.events[n];if(s){if(a=w.events.getInterface(n))return r=t.createEvent(a),r.initEvent(n,!0,!0,e,1),this.media.dispatchEvent(r),this;for(o=s.slice();o.length;)o.shift().call(this,i)}return this},listen:function(e,t){var n,i,a=this,r=!0,o=w.events.hooks[e];if("function"!=typeof t)throw new Error("Popcorn.js Error: Listener is not a function");return this.data.events[e]||(this.data.events[e]=[],r=!1),o&&(o.add&&o.add.call(this,{},t),o.bind&&(e=o.bind),o.handler&&(i=t,t=function(e){o.handler.call(a,e,i)}),r=!0,this.data.events[e]||(this.data.events[e]=[],r=!1)),this.data.events[e].push(t),!r&&w.events.all.indexOf(e)>-1&&this.media.addEventListener(e,function(t){if(a.data.events[e])for(n=a.data.events[e].slice();n.length;)n.shift().call(a,t)},!1),this},unlisten:function(e,t){var n,i=this.data.events[e];if(i){if("string"==typeof t){for(var a=0;a<i.length;a++)i[a].name===t&&i.splice(a--,1);return this}if("function"==typeof t){for(;-1!==n;)n=i.indexOf(t),-1!==n&&i.splice(n,1);return this}return this.data.events[e]=null,this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(e,t){var n=!1;this.media.readyState&&(setTimeout(function(){t.call(this,e)}.bind(this),0),n=!0),this.data.hooks.canplayall={fired:n}},handler:function(e,t){this.data.hooks.canplayall.fired||(t.call(this,e),this.data.hooks.canplayall.fired=!0)}}}},w.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(e){w.p[e[0]]=w.p[e[1]]=w.events.fn[e[0]]}),n.start=function(e,t){t.end>e.media.currentTime&&t.start<=e.media.currentTime&&!t._running&&(t._running=!0,e.data.running[t._natives.type].push(t),e.data.disabled[t._natives.type]||(t._natives.start.call(e,null,t),e.emit("trackstart",w.extend({},t,{plugin:t._natives.type,type:"trackstart",track:t}))))},n.end=function(e,t){var n;(t.end<=e.media.currentTime||t.start>e.media.currentTime)&&t._running&&(n=e.data.running[t._natives.type],t._running=!1,n.splice(n.indexOf(t),1),e.data.disabled[t._natives.type]||(t._natives.end.call(e,null,t),e.emit("trackend",w.extend({},t,{plugin:t._natives.type,type:"trackend",track:t}))))},i.prototype.where=function(e){return(this.parent.getTrackEvents()||[]).filter(function(t){var n,i;if(!e)return!0;for(n in e)if(i=e[n],a(t,n,i)||a(t._natives,n,i))return!0;return!1})},i.prototype.add=function(e){var t,n,i=this.byStart,a=this.byEnd;for(e&&e._id&&this.parent.data.history.push(e._id),e.start=w.util.toSeconds(e.start,this.parent.options.framerate),e.end=w.util.toSeconds(e.end,this.parent.options.framerate),t=i.length-1;t>=0;t--)if(e.start>=i[t].start){i.splice(t+1,0,e);break}for(n=a.length-1;n>=0;n--)if(e.end>a[n].end){a.splice(n+1,0,e);break}t<=this.parent.data.trackEvents.startIndex&&e.start<=this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.startIndex++,n<=this.parent.data.trackEvents.endIndex&&e.end<this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.endIndex++,this.count++},i.prototype.remove=function(e,t){if(e instanceof n&&(e=e.id),"object"==typeof e)return this.where(e).forEach(function(e){this.removeTrackEvent(e._id)},this.parent),this;var i,a,r,o,s,u=this.byStart.length,d=0,l=0,c=[],p=[],f=[],m=[];for(t=t||{};--u>-1;)i=this.byStart[d],a=this.byEnd[d],i._id||(c.push(i),p.push(a)),i._id&&(i._id!==e&&c.push(i),a._id!==e&&p.push(a),i._id===e&&(l=d,s=i)),d++;if(u=this.animating.length,d=0,u)for(;--u>-1;)r=this.animating[d],r._id||f.push(r),r._id&&r._id!==e&&f.push(r),d++;l<=this.startIndex&&this.startIndex--,l<=this.endIndex&&this.endIndex--,this.byStart=c,this.byEnd=p,this.animating=f,this.count--,o=this.parent.data.history.length;for(var h=0;o>h;h++)this.parent.data.history[h]!==e&&m.push(this.parent.data.history[h]);this.parent.data.history=m},w.addTrackEvent=function(e,t){var i;t instanceof n||(t=new n(t),t&&t._natives&&t._natives.type&&e.options.defaults&&e.options.defaults[t._natives.type]&&(i=w.extend({},t),w.extend(t,e.options.defaults[t._natives.type],i)),t._natives&&(t._id=t.id||t._id||w.guid(t._natives.type),t._natives._setup&&(t._natives._setup.call(e,t),e.emit("tracksetup",w.extend({},t,{plugin:t._natives.type,type:"tracksetup",track:t})))),e.data.trackEvents.add(t),n.start(e,t),this.timeUpdate(e,null,!0),t._id&&w.addTrackEvent.ref(e,t),e.emit("trackadded",w.extend({},t,t._natives?{plugin:t._natives.type}:{},{type:"trackadded",track:t})))},w.addTrackEvent.ref=function(e,t){return e.data.trackRefs[t._id]=t,e},w.removeTrackEvent=function(e,t){var n=e.getTrackEvent(t);n&&(n._natives._teardown&&n._natives._teardown.call(e,n),e.data.trackEvents.remove(t),w.removeTrackEvent.ref(e,t),n._natives&&e.emit("trackremoved",w.extend({},n,{plugin:n._natives.type,type:"trackremoved",track:n})))},w.removeTrackEvent.ref=function(e,t){return delete e.data.trackRefs[t],e},w.getTrackEvents=function(e){for(var t,n=[],i=e.data.trackEvents.byStart,a=i.length,r=0;a>r;r++)t=i[r],t._id&&n.push(t);return n},w.getTrackEvents.ref=function(e){return e.data.trackRefs},w.getTrackEvent=function(e,t){return e.data.trackRefs[t]},w.getTrackEvent.ref=function(e,t){return e.data.trackRefs[t]},w.getLastTrackEventId=function(e){return e.data.history[e.data.history.length-1]},w.timeUpdate=function(e,t){var n,i,a,r,o,s=e.media.currentTime,u=e.data.trackEvents.previousUpdateTime,d=e.data.trackEvents,l=d.endIndex,c=d.startIndex,p=d.byStart.length,f=d.byEnd.length,m=w.registryByName,h="trackstart",g="trackend";if(s>=u){for(;d.byEnd[l]&&d.byEnd[l].end<=s;){if(n=d.byEnd[l],a=n._natives,r=a&&a.type,a&&!m[r]&&!e[r])return void w.removeTrackEvent(e,n._id);n._running===!0&&(n._running=!1,o=e.data.running[r],o.splice(o.indexOf(n),1),e.data.disabled[r]||(a.end.call(e,t,n),e.emit(g,w.extend({},n,{plugin:r,type:g,track:n})))),l++}for(;d.byStart[c]&&d.byStart[c].start<=s;){if(i=d.byStart[c],a=i._natives,r=a&&a.type,a&&!m[r]&&!e[r])return void w.removeTrackEvent(e,i._id);i.end>s&&i._running===!1&&(i._running=!0,e.data.running[r].push(i),e.data.disabled[r]||(a.start.call(e,t,i),e.emit(h,w.extend({},i,{plugin:r,type:h,track:i})))),c++}}else if(u>s){for(;d.byStart[c]&&d.byStart[c].start>s;){if(i=d.byStart[c],a=i._natives,r=a&&a.type,a&&!m[r]&&!e[r])return void w.removeTrackEvent(e,i._id);i._running===!0&&(i._running=!1,o=e.data.running[r],o.splice(o.indexOf(i),1),e.data.disabled[r]||(a.end.call(e,t,i),e.emit(g,w.extend({},i,{plugin:r,type:g,track:i})))),c--}for(;d.byEnd[l]&&d.byEnd[l].end>s;){if(n=d.byEnd[l],a=n._natives,r=a&&a.type,a&&!m[r]&&!e[r])return void w.removeTrackEvent(e,n._id);n.start<=s&&n._running===!1&&(n._running=!0,e.data.running[r].push(n),e.data.disabled[r]||(a.start.call(e,t,n),e.emit(h,w.extend({},n,{plugin:r,type:h,track:n})))),l--}}d.endIndex=l,d.startIndex=c,d.previousUpdateTime=s,d.byStart.length<p&&d.startIndex--,d.byEnd.length<f&&d.endIndex--},w.extend(w.p,{getTrackEvents:function(){return w.getTrackEvents.call(null,this)},getTrackEvent:function(e){return w.getTrackEvent.call(null,this,e)},getLastTrackEventId:function(){return w.getLastTrackEventId.call(null,this)},removeTrackEvent:function(e){return w.removeTrackEvent.call(null,this,e),this},removePlugin:function(e){return w.removePlugin.call(null,this,e),this},timeUpdate:function(e){return w.timeUpdate.call(null,this,e),this},destroy:function(){return w.destroy.call(null,this),this}}),w.manifest={},w.registry=[],w.registryByName={},w.plugin=function(e,t,i){if(w.protect.natives.indexOf(e.toLowerCase())>=0)return void w.error("'"+e+"' is a protected function name");var a="function"==typeof t,s=["start","end","type","manifest"],u=["_setup","_teardown","start","end","frame"],d={},p=function(e,t){return e=e||w.nop,t=t||w.nop,function(){e.apply(this,arguments),t.apply(this,arguments)}};w.manifest[e]=i=i||t.manifest||{},u.forEach(function(n){t[n]=o(t[n]||w.nop,e)});var f=function(t,a){if(!a)return this;if(a.ranges&&w.isArray(a.ranges))return w.forEach(a.ranges,function(t){var n=w.extend({},a,t);delete n.ranges,this[e](n)},this),this;var r,o=a._natives={},d="";return w.extend(o,t),a._natives.type=a._natives.plugin=e,a._running=!1,o.start=o.start||o["in"],o.end=o.end||o.out,a.once&&(o.end=p(o.end,function(){this.removeTrackEvent(a._id)})),o._teardown=p(function(){var e=l.call(arguments),t=this.data.running[o.type];e.unshift(null),e[1]._running&&t.splice(t.indexOf(a),1)&&o.end.apply(this,e),e[1]._running=!1,this.emit("trackend",w.extend({},a,{plugin:o.type,type:"trackend",track:w.getTrackEvent(this,a.id||a._id)}))},o._teardown),o._teardown=p(o._teardown,function(){this.emit("trackteardown",w.extend({},a,{plugin:e,type:"trackteardown",track:w.getTrackEvent(this,a.id||a._id)}))}),a.compose=a.compose||[],"string"==typeof a.compose&&(a.compose=a.compose.split(" ")),a.effect=a.effect||[],"string"==typeof a.effect&&(a.effect=a.effect.split(" ")),a.compose=a.compose.concat(a.effect),a.compose.forEach(function(e){d=w.compositions[e]||{},u.forEach(function(e){o[e]=p(o[e],d[e])})}),a._natives.manifest=i,"start"in a||(a.start=a["in"]||0),a.end||0===a.end||(a.end=a.out||Number.MAX_VALUE),c.call(a,"toString")||(a.toString=function(){var t=["start: "+a.start,"end: "+a.end,"id: "+(a.id||a._id)];return null!=a.target&&t.push("target: "+a.target),e+" ( "+t.join(", ")+" )"}),a.target||(r="options"in i&&i.options,a.target=r&&"target"in r&&r.target),!a._id&&a._natives&&(a._id=w.guid(a._natives.type)),a instanceof n?(a._natives&&(a._id=a.id||a._id||w.guid(a._natives.type),a._natives._setup&&(a._natives._setup.call(this,a),this.emit("tracksetup",w.extend({},a,{plugin:a._natives.type,type:"tracksetup",track:a})))),this.data.trackEvents.add(a),n.start(this,a),this.timeUpdate(this,null,!0),a._id&&w.addTrackEvent.ref(this,a)):w.addTrackEvent(this,a),w.forEach(t,function(e,t){-1===s.indexOf(t)&&this.on(t,e)},this),this};w.p[e]=d[e]=function(i,o){{var s,u,d,l,p;arguments.length}if(i&&!o)o=i,i=null;else{if(s=this.getTrackEvent(i))return p=o,l=r(s,p),s._natives._update?(this.data.trackEvents.remove(s),c.call(o,"start")&&(s.start=o.start),c.call(o,"end")&&(s.end=o.end),n.end(this,s),a&&t.call(this,s),s._natives._update.call(this,s,o),this.data.trackEvents.add(s),n.start(this,s),"cue"!==s._natives.type&&this.emit("trackchange",{id:s.id,type:"trackchange",previousValue:l,currentValue:p,track:s}),this):(w.extend(s,o),this.data.trackEvents.remove(i),s._natives._teardown&&s._natives._teardown.call(this,s),w.removeTrackEvent.ref(this,i),a?f.call(this,t.call(this,s),s):(s._id=s.id||s._id||w.guid(s._natives.type),s._natives&&s._natives._setup&&(s._natives._setup.call(this,s),this.emit("tracksetup",w.extend({},s,{plugin:s._natives.type,type:"tracksetup",track:s}))),this.data.trackEvents.add(s),n.start(this,s),this.timeUpdate(this,null,!0),w.addTrackEvent.ref(this,s)),this.emit("trackchange",{id:s.id,type:"trackchange",previousValue:l,currentValue:s,track:s}),this);o.id=i}return this.data.running[e]=this.data.running[e]||[],u=this.options.defaults&&this.options.defaults[e]||{},d=w.extend({},u,o),f.call(this,a?t.call(this,d):t,d),this},i&&w.extend(t,{manifest:i});var m={fn:d[e],definition:t,base:t,parents:[],name:e};return w.registry.push(w.extend(d,m,{type:e})),w.registryByName[e]=m,d},w.plugin.errors=[],w.plugin.debug="@VERSION"===w.version,w.removePlugin=function(e,t){if(!t){if(t=e,e=w.p,w.protect.natives.indexOf(t.toLowerCase())>=0)return void w.error("'"+t+"' is a protected function name");var n,i=w.registry.length;for(n=0;i>n;n++)if(w.registry[n].name===t)return w.registry.splice(n,1),delete w.registryByName[t],delete w.manifest[t],void delete e[t]}var a,r,o=e.data.trackEvents.byStart,s=e.data.trackEvents.byEnd,u=e.data.trackEvents.animating;for(a=0,r=o.length;r>a;a++)o[a]&&o[a]._natives&&o[a]._natives.type===t&&(o[a]._natives._teardown&&o[a]._natives._teardown.call(e,o[a]),o.splice(a,1),a--,r--,e.data.trackEvents.startIndex<=a&&(e.data.trackEvents.startIndex--,e.data.trackEvents.endIndex--)),s[a]&&s[a]._natives&&s[a]._natives.type===t&&s.splice(a,1);for(a=0,r=u.length;r>a;a++)u[a]&&u[a]._natives&&u[a]._natives.type===t&&(u.splice(a,1),a--,r--)},w.compositions={},w.compose=function(e,t,n){w.manifest[e]=n=n||t.manifest||{},w.compositions[e]=t},w.plugin.effect=w.effect=w.compose;var _=/^(?:\.|#|\[)/;w.dom={debug:!1,find:function(e,n){var i=null;if(n=n||t,e){if(!_.test(e)&&(i=t.getElementById(e),null!==i))return i;try{i=n.querySelector(e)}catch(a){if(w.dom.debug)throw new Error(a)}}return i}};var T=/\?/,S={ajax:null,url:"",data:"",dataType:"",success:w.nop,type:"GET",async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8"};w.xhr=function(e){var t;return e.dataType=e.dataType&&e.dataType.toLowerCase()||null,!e.dataType||"jsonp"!==e.dataType&&"script"!==e.dataType?(t=w.extend({},S,e),t.ajax=new XMLHttpRequest,t.ajax?("GET"===t.type&&t.data&&(t.url+=(T.test(t.url)?"&":"?")+t.data,t.data=null),t.ajax.open(t.type,t.url,t.async),"POST"===t.type&&t.ajax.setRequestHeader("Content-Type",t.contentType),t.ajax.send(t.data||null),w.xhr.httpData(t)):void 0):void w.xhr.getJSONP(e.url,e.success,"script"===e.dataType)},w.xhr.httpData=function(e){var t,n,i=null,a=null;return e.ajax.onreadystatechange=function(){if(4===e.ajax.readyState){try{i=JSON.parse(e.ajax.responseText)}catch(r){}if(t={xml:e.ajax.responseXML,text:e.ajax.responseText,json:i},!t.xml||!t.xml.documentElement){t.xml=null;try{n=new DOMParser,a=n.parseFromString(e.ajax.responseText,"text/xml"),a.getElementsByTagName("parsererror").length||(t.xml=a)}catch(r){}}e.dataType&&(t=t[e.dataType]),e.success.call(e.ajax,t)}},t},w.xhr.getJSONP=function(e,n,i){var a,r,o,s=t.head||t.getElementsByTagName("head")[0]||t.documentElement,u=t.createElement("script"),d=!1,l=[],c=/(=)\?(?=&|$)|\?\?/;i||(o=e.match(/(callback=[^&]*)/),null!==o&&o.length?(a=o[1].split("=")[1],"?"===a&&(a="jsonp"),r=w.guid(a),e=e.replace(/(callback=[^&]*)/,"callback="+r)):(r=w.guid("jsonp"),c.test(e)&&(e=e.replace(c,"$1"+r)),l=e.split(/\?(.+)?/),e=l[0]+"?",l[1]&&(e+=l[1]+"&"),e+="callback="+r),window[r]=function(e){n&&n(e),d=!0}),u.addEventListener("load",function(){i&&n&&n(),d&&delete window[r],s.removeChild(u)},!1),u.addEventListener("error",function(e){n&&n({error:e}),i||delete window[r],s.removeChild(u)},!1),u.src=e,s.insertBefore(u,s.firstChild)},w.getJSONP=w.xhr.getJSONP,w.getScript=w.xhr.getScript=function(e,t){return w.xhr.getJSONP(e,t,!0)},w.util={toSeconds:function(e,t){var n,i,a,r,o,s,u=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,d="Invalid time format";return"number"==typeof e?e:("string"!=typeof e||u.test(e)||w.error(d),n=e.split(":"),i=n.length-1,a=n[i],a.indexOf(";")>-1&&(o=a.split(";"),s=0,t&&"number"==typeof t&&(s=parseFloat(o[1],10)/t),n[i]=parseInt(o[0],10)+s),r=n[0],{1:parseFloat(r,10),2:60*parseInt(r,10)+parseFloat(n[1],10),3:3600*parseInt(r,10)+60*parseInt(n[1],10)+parseFloat(n[2],10)}[n.length||1])}},w.p.cue=w.p.exec,w.protect={natives:E(w.p).map(function(e){return e.toLowerCase()})},w.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(e,t){var n=w.p[t];w.p[t]=function(){return"undefined"!=typeof console&&console.warn&&(console.warn("Deprecated method '"+t+"', "+(null==e?"do not use.":"use '"+e+"' instead.")),w.p[t]=n),w.p[e].apply(this,[].slice.call(arguments))}}),e.Popcorn=w}else{e.Popcorn={isSupported:!1};for(var k="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);k.length;)e.Popcorn[k.shift()]=function(){}}}(window,window.document),function(e,t){var n=e.document,i=e.location,a=/:\/\//,r=i.href.replace(i.href.split("/").slice(-1)[0],""),o=function(e,t,n){e=e||0,t=(t||e||0)+1,n=n||1;var i=Math.ceil((t-e)/n)||0,a=0,r=[];for(r.length=i;i>a;)r[a++]=e,e+=n;return r};t.sequence=function(e,n){return new t.sequence.init(e,n)},t.sequence.init=function(e,i){this.parent=n.getElementById(e),this.seqId=t.guid("__sequenced"),this.queue=[],this.playlist=[],this.inOuts={ofVideos:[],ofClips:[]},this.dims={width:0,height:0},this.active=0,this.cycling=!1,this.playing=!1,this.times={last:0},this.events={};var o=this,s=0;return t.forEach(i,function(i,s){var u=n.createElement("video");u.preload="auto",u.controls=!0,u.style.display=s&&"none"||"",u.id=o.seqId+"-"+s,o.queue.push(u);var d=i["in"],l=i.out;o.inOuts.ofVideos.push({"in":void 0!==d&&d||1,out:void 0!==l&&l||0}),o.inOuts.ofVideos[s].out=o.inOuts.ofVideos[s].out||o.inOuts.ofVideos[s]["in"]+2,u.src=a.test(i.src)?i.src:r+i.src,u.setAttribute("data-sequence-owner",e),u.setAttribute("data-sequence-guid",o.seqId),u.setAttribute("data-sequence-id",s),u.setAttribute("data-sequence-clip",[o.inOuts.ofVideos[s]["in"],o.inOuts.ofVideos[s].out].join(":")),o.parent.appendChild(u),o.playlist.push(t("#"+u.id))}),o.inOuts.ofVideos.forEach(function(e){var t=e.out-e["in"],n={"in":s,out:s+t};o.inOuts.ofClips.push(n),s=n.out+1}),t.forEach(this.queue,function(e,n){function i(){return n||(o.dims.width=e.videoWidth,o.dims.height=e.videoHeight),e.currentTime=o.inOuts.ofVideos[n]["in"]-.5,e.removeEventListener("canplaythrough",i,!1),!0}e.addEventListener("canplaythrough",i,!1),e.addEventListener("play",function(){o.playing=!0},!1),e.addEventListener("pause",function(){o.playing=!1},!1),e.addEventListener("timeupdate",function(n){var i=n.srcElement||n.target,a=+(i.dataset&&i.dataset.sequenceId||i.getAttribute("data-sequence-id")),r=Math.floor(e.currentTime);o.times.last!==r&&a===o.active&&(o.times.last=r,r===o.inOuts.ofVideos[a].out&&t.sequence.cycle.call(o,a))},!1)}),this},t.sequence.init.prototype=t.sequence.prototype,t.sequence.cycle=function(e){this.queue||t.error("Popcorn.sequence.cycle is not a public method");var n,i,a,r,o=this.queue,s=this.inOuts.ofVideos,u=o[e],d=0;return o[e+1]&&(d=e+1),o[e+1]?(n=o[d],i=s[d],t.extend(n,{width:this.dims.width,height:this.dims.height}),a=this.playlist[d],r=this.playlist[e],u.pause(),this.active=d,this.times.last=i["in"]-1,a.currentTime(i["in"]),a[d?"play":"pause"](),this.trigger("cycle",{position:{previous:e,current:d}}),d&&(u.style.display="none",n.style.display=""),this.cycling=!1):(d=0,this.playlist[e].pause()),this};var s=["timeupdate","play","pause"];t.extend(t.sequence.prototype,{eq:function(e){return this.playlist[e]},remove:function(){this.parent.innerHTML=null},clip:function(e){return this.inOuts.ofVideos[e]},duration:function(){for(var e=0,t=this.inOuts.ofClips,n=0;n<t.length;n++)e+=t[n].out-t[n]["in"]+1;return e-1},play:function(){return this.playlist[this.active].play(),this},exec:function(e,n){var i=this.active;return this.inOuts.ofClips.forEach(function(t,n){e>=t["in"]&&e<=t.out&&(i=n)}),e+=this.inOuts.ofVideos[i]["in"]-this.inOuts.ofClips[i]["in"],t.addTrackEvent(this.playlist[i],{start:e-1,end:e,_running:!1,_natives:{start:n||t.nop,end:t.nop,type:"exec"}}),this},listen:function(e,n){var i,a=this,r=this.playlist,o=r.length,u=0;return n||(n=t.nop),t.Events.Natives.indexOf(e)>-1?t.forEach(r,function(t){t.listen(e,function(i){i.active=a,s.indexOf(e)>-1?n.call(t,i):++u===o&&n.call(t,i)})}):(this.events[e]||(this.events[e]={}),i=n.name||t.guid("__"+e),this.events[e][i]=n),this},unlisten:function(){},trigger:function(e,n){var i=this;if(!(t.Events.Natives.indexOf(e)>-1))return this.events[e]&&t.forEach(this.events[e],function(t){t.call(i,{type:e},n)}),this}}),t.forEach(t.manifest,function(e,n){t.sequence.prototype[n]=function(e){var i,a,r,s,u,d,l,c,p,f={},m=[];for(i=0;i<this.inOuts.ofClips.length;i++)a=this.inOuts.ofClips[i],r=o(a["in"],a.out),s=r.indexOf(e.start),u=r.indexOf(e.end),s>-1&&(f[i]=t.extend({},a,{start:r[s],clipIdx:s})),u>-1&&(f[i]=t.extend({},a,{end:r[u],clipIdx:u}));for(d=Object.keys(f).map(function(e){return+e}),m=o(d[0],d[1]),i=0;i<m.length;i++){var h={},g=m[i],y=f[g];y?(l=this.inOuts.ofVideos[g],c=y.clipIdx,p=o(l["in"],l.out),y.start&&(h.start=p[c],h.end=p[p.length-1]),y.end&&(h.start=p[0],h.end=p[c])):(h.start=this.inOuts.ofVideos[g]["in"],h.end=this.inOuts.ofVideos[g].out),this.playlist[g][n](t.extend({},e,h))}return this}})}(this,Popcorn),function(e,t){function n(e){var t="string"==typeof e?e:[e.language,e.region].join("-"),n=t.split("-");return{iso6391:t,language:n[0]||"",region:n[1]||""}}var i=e.navigator,a=n(i.userLanguage||i.language);t.locale={get:function(){return a},set:function(e){return a=n(e),t.locale.broadcast(),a},broadcast:function(e){var n,i=t.instances,a=i.length,r=0;for(e=e||"locale:changed";a>r;r++)n=i[r],e in n.data.events&&n.trigger(e)}}}(this,this.Popcorn),function(e){document.addEventListener("DOMContentLoaded",function(){var t="data-timeline-sources",n=document.querySelectorAll("["+t+"]");e.forEach(n,function(i,a){var r,o,s,u=n[a];u.id||(u.id=e.guid("__popcorn")),u.nodeType&&1===u.nodeType&&(s=e("#"+u.id),r=(u.getAttribute(t)||"").split(","),r[0]&&e.forEach(r,function(e){o=e.split("!"),1===o.length&&(o=e.match(/(.*)[\/\\]([^\/\\]+\.\w+)$/)[2].split("."),o[0]="parse"+o[1].toUpperCase(),o[1]=e),r[0]&&s[o[0]]&&s[o[0]](o[1])}),s.autoplay()&&s.play())})},!1)}(Popcorn),function(e){var t=function(t,n){return t=t||e.nop,n=n||e.nop,function(){t.apply(this,arguments),n.apply(this,arguments)}};e.player=function(n,i){if(!e[n]){i=i||{};var a=function(n,a,r){r=r||{};var o,s,u=new Date/1e3,d=u,l=0,c=0,p=1,f=!1,m={},h="string"==typeof n?e.dom.find(n):n,g={};Object.prototype.__defineGetter__||(g=h||document.createElement("div"));for(var y in h)y in g||("object"==typeof h[y]?g[y]=h[y]:"function"==typeof h[y]?g[y]=function(e){return"length"in h[e]&&!h[e].call?h[e]:function(){return h[e].apply(h,arguments)}}(y):e.player.defineProperty(g,y,{get:function(e){return function(){return h[e]}}(y),set:e.nop,configurable:!0}));var v=function(){u=new Date/1e3,g.paused||(g.currentTime=g.currentTime+(u-d),g.dispatchEvent("timeupdate"),o=setTimeout(v,10)),d=u};return g.play=function(){this.paused=!1,g.readyState>=4&&(d=new Date/1e3,g.dispatchEvent("play"),v())},g.pause=function(){this.paused=!0,g.dispatchEvent("pause")},e.player.defineProperty(g,"currentTime",{get:function(){return l},set:function(e){return l=+e,g.dispatchEvent("timeupdate"),l},configurable:!0}),e.player.defineProperty(g,"volume",{get:function(){return p},set:function(e){return p=+e,g.dispatchEvent("volumechange"),p},configurable:!0}),e.player.defineProperty(g,"muted",{get:function(){return f},set:function(e){return f=+e,g.dispatchEvent("volumechange"),f},configurable:!0}),e.player.defineProperty(g,"readyState",{get:function(){return c},set:function(e){return c=e},configurable:!0}),g.addEventListener=function(e,t){return m[e]||(m[e]=[]),m[e].push(t),t},g.removeEventListener=function(e,t){var n,i=m[e];if(i){for(n=m[e].length-1;n>=0;n--)t===i[n]&&i.splice(n,1);return t}},g.dispatchEvent=function(t){var n,i,a=this,r=t.type;if(r||(r=t,i=e.events.getInterface(r),i&&(n=document.createEvent(i),n.initEvent(r,!0,!0,window,1))),m[r])for(var o=m[r].length-1;o>=0;o--)m[r][o].call(a,n,a)},g.src=a||"",g.duration=0,g.paused=!0,g.ended=0,r&&r.events&&e.forEach(r.events,function(e,t){g.addEventListener(t,e,!1)
}),i._canPlayType(h.nodeName,a)!==!1?i._setup?i._setup.call(g,r):(g.readyState=4,g.dispatchEvent("loadedmetadata"),g.dispatchEvent("loadeddata"),g.dispatchEvent("canplaythrough")):setTimeout(function(){g.dispatchEvent("error")},0),s=new e.p.init(g,r),i._teardown&&(s.destroy=t(s.destroy,function(){i._teardown.call(g,r)})),s};a.canPlayType=i._canPlayType=i._canPlayType||e.nop,e[n]=e.player.registry[n]=a}},e.player.registry={},e.player.defineProperty=Object.defineProperty||function(t,n,i){t.__defineGetter__(n,i.get||e.nop),t.__defineSetter__(n,i.set||e.nop)},e.player.playerQueue=function(){var e=[],t=!1;return{next:function(){t=!1,e.shift(),e[0]&&e[0]()},add:function(n){e.push(function(){t=!0,n&&n()}),!t&&e[0]()}}},e.smart=function(t,n,i){var a,r,o,s,u,d,l,c="string"==typeof t?e.dom.find(t):t,p="HTMLYouTubeVideoElement HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(!c)return void e.error("Specified target `"+t+"` was not found.");for(n="string"==typeof n?[n]:n,a=0,l=n.length;l>a;a++){for(r=n[a],o=0;o<p.length;o++)if(u=e[p[o]],u&&"probably"===u._canPlaySrc(r))return s=u(c),d=e(s,i),setTimeout(function(){s.src=r},0),d;for(var f in e.player.registry)if(e.player.registry.hasOwnProperty(f)&&e.player.registry[f].canPlayType(c.nodeName,r))return e[f](c,r,i)}var m,h,g=e.guid("popcorn-video-"),y=document.createElement("div");if(y.style.width="100%",y.style.height="100%",1===n.length)return h=document.createElement("video"),h.id=g,c.appendChild(h),setTimeout(function(){var e=document.createElement("div");e.innerHTML=n[0],h.src=e.firstChild.nodeValue},0),e("#"+g,i);for(c.appendChild(y),m='<video id="'+g+'" preload=auto autobuffer>',a=0,l=n.length;l>a;a++)m+='<source src="'+n[a]+'">';return m+="</video>",y.innerHTML=m,i&&i.events&&i.events.error&&c.addEventListener("error",i.events.error,!1),e("#"+g,i)}}(Popcorn),function(e){{var t=Array.prototype,n=Object.prototype,i=(t.forEach,t.slice,n.hasOwnProperty);n.toString}e.parsers={},e.parser=function(t,n,a){if(e.protect.natives.indexOf(t.toLowerCase())>=0)return void e.error("'"+t+"' is a protected function name");if("function"!=typeof n||a||(a=n,n=""),"function"==typeof a&&"string"==typeof n){var r,o=(e.events.all,{});return r=function(t,r,o){if(!t)return this;"function"==typeof r||o||(o=r,r=null);var s=this;return e.xhr({url:t,dataType:n,success:function(e){var t,n,u,d=a(e,o),l=0;if(t=d.data||[],n=t.length,u=null,n){for(;n>l;l++){u=t[l];for(var c in u)i.call(u,c)&&s[c]&&s[c](u[c])}r&&r()}}}),this},o[t]=r,e.extend(e.p,o),o}}}(Popcorn),function(e,t){function n(e){for(var t=n.options,i=t.parser[t.strictMode?"strict":"loose"].exec(e),a={},r=14;r--;)a[t.key[r]]=i[r]||"";return a[t.q.name]={},a[t.key[12]].replace(t.q.parser,function(e,n,i){n&&(a[t.q.name][n]=i)}),a}function i(){var i,r={};return Object.prototype.__defineGetter__||(r=t.createElement("div")),r._util={type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(e){return"string"==typeof e||e===!0},parseUri:n},r.addEventListener=function(e,n,i){t.addEventListener(this._eventNamespace+e,n,i)},r.removeEventListener=function(e,n,i){t.removeEventListener(this._eventNamespace+e,n,i)},r.dispatchEvent=function(e){var n=t.createEvent("CustomEvent"),i={type:e,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+e,!1,!1,i),t.dispatchEvent(n)},r.load=e.nop,r.canPlayType=function(){return""},r.getBoundingClientRect=function(){return i.getBoundingClientRect()},r.NETWORK_EMPTY=0,r.NETWORK_IDLE=1,r.NETWORK_LOADING=2,r.NETWORK_NO_SOURCE=3,r.HAVE_NOTHING=0,r.HAVE_METADATA=1,r.HAVE_CURRENT_DATA=2,r.HAVE_FUTURE_DATA=3,r.HAVE_ENOUGH_DATA=4,Object.defineProperties(r,{currentSrc:{get:function(){return void 0!==this.src?this.src:""},configurable:!0},parentNode:{get:function(){return i},set:function(e){i=e},configurable:!0},preload:{get:function(){return"auto"},set:e.nop,configurable:!0},controls:{get:function(){return!0},set:e.nop,configurable:!0},poster:{get:function(){return""},set:e.nop,configurable:!0},crossorigin:{get:function(){return""},configurable:!0},played:{get:function(){return a},configurable:!0},seekable:{get:function(){return a},configurable:!0},buffered:{get:function(){return a},configurable:!0},defaultMuted:{get:function(){return!1},configurable:!0},defaultPlaybackRate:{get:function(){return 1},configurable:!0},style:{get:function(){return this.parentNode.style},configurable:!0},id:{get:function(){return this.parentNode.id},configurable:!0}}),r}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var a={length:0,start:e.nop,end:e.nop};window.MediaError=window.MediaError||function(){function e(e,t){this.code=e||null,this.message=t||""}return e.MEDIA_ERR_NONE_ACTIVE=0,e.MEDIA_ERR_ABORTED=1,e.MEDIA_ERR_NETWORK=2,e.MEDIA_ERR_DECODE=3,e.MEDIA_ERR_NONE_SUPPORTED=4,e}(),e._MediaElementProto=i}(Popcorn,window.document),function(e,t,n){function i(){d=!0;for(var e=c.length;e--;)c[e](),delete c[e]}function a(){t.jwplayer?i():setTimeout(a,100)}function r(){if(!l){if(!t.jwplayer){var e=n.createElement("script");e.src="https://jwpsrv.com/library/zaIF4JI9EeK2FSIACpYGxA.js";var i=n.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}l=!0,a()}return d}function o(e){c.unshift(e)}function s(i){function a(e){D.unshift(e)}function s(){setTimeout(function(){C.duration=x.getDuration(),L.dispatchEvent("durationchange"),C.readyState=L.HAVE_METADATA,L.dispatchEvent("loadedmetadata"),L.dispatchEvent("loadeddata"),C.readyState=L.HAVE_FUTURE_DATA,L.dispatchEvent("canplay"),N=!0;for(var e=0;D.length;)D[e](),D.shift();C.readyState=L.HAVE_ENOUGH_DATA,L.dispatchEvent("canplaythrough")},0)}function d(){O?O=!1:j?(j=!1,s()):T()}function l(){H?(H=!1,C.autoplay||!C.paused?(C.paused=!1,a(w),s()):(j=!0,I=!0,x.pause(!0))):I?(I=!1,O=!0,x.pause(!0)):w()}function c(){C.seeking&&b()}function p(){x.onPause(d),x.onTime(function(){C.ended||C.seeking||(C.currentTime=x.getPosition(),L.dispatchEvent("timeupdate"))}),x.onSeek(c),x.onPlay(function(){C.ended||l()}),x.onBufferChange(_),x.onComplete(S),x.play(!0)}function f(){return x.getDuration()}function m(e){var t={name:"MediaError"};t.message=e.message,t.code=e.code||5,C.error=t,L.dispatchEvent("error")}function h(){M&&x&&x.destroy()}function g(e){if(!L._canPlaySrc(e))return C.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void L.dispatchEvent("error");var t=L._util.parseUri(e).queryKey;return C.controls=t.controls=t.controls||C.controls,C.src=e,r()?(M&&h(),jwplayer(A.id).setup({file:e,width:"100%",height:"100%",controls:C.controls}),x=jwplayer(A.id),x.onReady(p),x.onError(m),jwplayer.utils.log=function(e,t){"undefined"!=typeof console&&"undefined"!=typeof console.log&&(t?console.log(e,t):console.log(e)),"No suitable players found and fallback enabled"===e&&m({message:e,code:4})},C.networkState=L.NETWORK_LOADING,L.dispatchEvent("loadstart"),void L.dispatchEvent("progress")):void o(function(){g(e)})}function y(){return C.currentTime}function v(e){return C.currentTime=e,N?(E(),void x.seek(e)):void a(function(){E(),x.seek(e)})}function E(){C.seeking=!0,C.paused&&(I=!0),L.dispatchEvent("seeking")}function b(){C.ended=!1,C.seeking=!1,L.dispatchEvent("timeupdate"),L.dispatchEvent("seeked"),L.dispatchEvent("canplay"),L.dispatchEvent("canplaythrough")}function w(){C.paused=!1,V&&(V=!1,(C.loop&&!R||!C.loop)&&(R=!0,L.dispatchEvent("play")),L.dispatchEvent("playing"))}function _(){L.dispatchEvent("progress")}function T(){C.paused=!0,V||(V=!0,L.dispatchEvent("pause"))}function S(){C.loop?v(0):(C.ended=!0,T(),L.dispatchEvent("timeupdate"),L.dispatchEvent("ended"))}function k(e){return C.volume=e,N?(x.setVolume(100*C.volume),void L.dispatchEvent("volumechange")):void a(function(){k(C.volume)})}function P(e){return C.muted=e,N?(x.setMute(e),void L.dispatchEvent("volumechange")):void a(function(){P(C.muted)})}if(!t.postMessage)throw"ERROR: HTMLJWPlayerVideoElement requires window.postMessage";var x,L=new e._MediaElementProto,A="string"==typeof i?n.querySelector(i):i,C={src:u,networkState:L.NETWORK_EMPTY,readyState:L.HAVE_NOTHING,seeking:!1,autoplay:u,preload:u,controls:!1,loop:!1,poster:u,volume:1,muted:!1,currentTime:0,duration:0/0,ended:!1,paused:!0,error:null},M=!1,O=!1,I=!1,N=!1,R=!1,V=!0,D=[],H=!0,j=!1;return L._eventNamespace=e.guid("HTMLJWPlayerVideoElement::"),L.parentNode=A,L._util.type="JWPlayer",L.play=function(){return L.dispatchEvent("play"),C.paused=!1,N?(C.ended&&(v(0),C.ended=!1),void x.play(!0)):void a(function(){L.play()})},L.pause=function(){return C.paused=!0,N?void x.pause(!0):void a(function(){L.pause()})},Object.defineProperties(L,{src:{get:function(){return C.src},set:function(e){e&&e!==C.src&&g(e)}},autoplay:{get:function(){return C.autoplay},set:function(e){C.autoplay=L._util.isAttributeSet(e)}},loop:{get:function(){return C.loop},set:function(e){C.loop=L._util.isAttributeSet(e)}},width:{get:function(){return L.parentNode.offsetWidth}},height:{get:function(){return L.parentNode.offsetHeight}},currentTime:{get:function(){return y()},set:function(e){v(e)}},duration:{get:function(){return f()}},ended:{get:function(){return C.ended}},paused:{get:function(){return C.paused}},seeking:{get:function(){return C.seeking}},readyState:{get:function(){return C.readyState}},networkState:{get:function(){return C.networkState}},volume:{get:function(){return C.volume},set:function(e){if(0>e||e>1)throw"Volume value must be between 0.0 and 1.0";k(e)}},muted:{get:function(){return C.muted},set:function(e){P(L._util.isAttributeSet(e))}},error:{get:function(){return C.error}},buffered:{get:function(){var e={start:function(e){if(0===e)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1"},end:function(e){var t;if(0===e)return t=f(),t?t*(x.getBuffer()/100):0;throw"INDEX_SIZE_ERR: DOM Exception 1"}};return Object.defineProperties(e,{length:{get:function(){return 1}}}),e}}}),L._canPlaySrc=e.HTMLJWPlayerVideoElement._canPlaySrc,L.canPlayType=e.HTMLJWPlayerVideoElement.canPlayType,L}var u="",d=!1,l=!1,c=[];e.HTMLJWPlayerVideoElement=function(e){return new s(e)},e.HTMLJWPlayerVideoElement._canPlaySrc=function(){return"probably"},e.HTMLJWPlayerVideoElement.canPlayType=function(){return"probably"}}(Popcorn,window,document),function(e,t){function n(t){this.startTime=0,this.currentTime=t.currentTime||0,this.duration=t.duration||0/0,this.playInterval=null,this.paused=!0,this.defaultPlaybackRate=1,this.playbackRate=1,this.ended=t.endedCallback||e.nop}function i(e){e.currentTime+=(Date.now()-e.startTime)/(1e3/e.playbackRate),e.startTime=Date.now(),e.currentTime>=e.duration&&(e.pause(e.duration),e.ended()),e.currentTime<0&&e.pause(0)}function a(i){function a(e){C.push(e)}function r(){var e;for(L=!0,A.networkState=k.NETWORK_IDLE,A.readyState=k.HAVE_METADATA,k.dispatchEvent("loadedmetadata"),k.dispatchEvent("loadeddata"),A.readyState=k.HAVE_FUTURE_DATA,k.dispatchEvent("canplay"),A.readyState=k.HAVE_ENOUGH_DATA,k.dispatchEvent("canplaythrough");C.length;)(e=C.shift())();A.autoplay&&k.play()}function u(){return T?T.duration:0/0}function d(){L&&T&&(T.pause(),T=null,P.removeChild(x),x=t.createElement("div"))}function l(e){if(!k._canPlaySrc(e))return A.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void k.dispatchEvent("error");A.src=e,L&&d(),x.width=A.width,x.height=A.height,P.appendChild(x);var t=s.exec(e),i=+t[1],a=+t[2];T=new n({currentTime:i,duration:a,endedCallback:v}),k.dispatchEvent("loadstart"),k.dispatchEvent("progress"),k.dispatchEvent("durationchange"),r()}function c(){return L?T.currentTime:0}function p(e){if(e!==c()){if(!L)return void a(function(){p(e)});m(),T.seekTo(e),h()}}function f(){k.dispatchEvent("timeupdate")}function m(){A.seeking=!0,k.dispatchEvent("seeking")}function h(){A.ended=!1,A.seeking=!1,k.dispatchEvent("timeupdate"),k.dispatchEvent("seeked"),k.dispatchEvent("canplay"),k.dispatchEvent("canplaythrough")}function g(){1===A.paused?(A.paused=!1,k.dispatchEvent("play"),k.dispatchEvent("playing")):(A.ended&&(p(0),A.ended=!1),A.paused&&(A.paused=!1,A.loop||k.dispatchEvent("play"),k.dispatchEvent("playing"))),S=setInterval(f,k._util.TIMEUPDATE_MS)}function y(){A.paused=!0,clearInterval(S),k.dispatchEvent("pause")}function v(){A.loop?(p(0),k.play()):(A.ended=!0,y(),k.dispatchEvent("timeupdate"),k.dispatchEvent("ended"))}function E(e){A.volume=e,k.dispatchEvent("volumechange")}function b(){return A.volume}function w(e){A.muted=e,k.dispatchEvent("volumechange")}function _(){return A.muted}var T,S,k=new e._MediaElementProto,P="string"==typeof i?t.querySelector(i):i,x=t.createElement("div"),L=!1,A={src:o,networkState:k.NETWORK_EMPTY,readyState:k.HAVE_NOTHING,autoplay:o,preload:o,controls:o,loop:!1,poster:o,volume:1,muted:!1,width:0|P.width?P.width:k._util.MIN_WIDTH,height:0|P.height?P.height:k._util.MIN_HEIGHT,seeking:!1,ended:!1,paused:1,error:null},C=[];return k._eventNamespace=e.guid("HTMLNullVideoElement::"),k.parentNode=P,k._util.type="NullVideo",k.play=function(){return L?(T.play(),void(A.paused&&g())):void a(function(){k.play()})},k.pause=function(){return L?(T.pause(),void(A.paused||y())):void a(function(){k.pause()})},Object.defineProperties(k,{src:{get:function(){return A.src},set:function(e){e&&e!==A.src&&l(e)}},autoplay:{get:function(){return A.autoplay},set:function(e){A.autoplay=k._util.isAttributeSet(e)}},loop:{get:function(){return A.loop},set:function(e){A.loop=k._util.isAttributeSet(e)}},width:{get:function(){return x.width},set:function(e){x.width=e,A.width=x.width}},height:{get:function(){return x.height},set:function(e){x.height=e,A.height=x.height}},currentTime:{get:function(){return c()},set:function(e){p(e)}},duration:{get:function(){return u()}},ended:{get:function(){return A.ended}},paused:{get:function(){return A.paused}},seeking:{get:function(){return A.seeking}},readyState:{get:function(){return A.readyState}},networkState:{get:function(){return A.networkState}},volume:{get:function(){return b()},set:function(e){if(0>e||e>1)throw"Volume value must be between 0.0 and 1.0";E(e)}},muted:{get:function(){return _()},set:function(e){w(k._util.isAttributeSet(e))}},playbackRate:{get:function(){return T.playbackRate},set:function(e){T.playbackRate=e,k.dispatchEvent("ratechange")}},error:{get:function(){return A.error}}}),k._canPlaySrc=e.HTMLNullVideoElement._canPlaySrc,k.canPlayType=e.HTMLNullVideoElement.canPlayType,k}var r=16,o="",s=/#t=(\d+\.?\d*)?,?(\d+\.?\d*)/;n.prototype={play:function(){var e=this;this.paused&&(this.paused=!1,this.startTime=Date.now(),this.playInterval=setInterval(function(){i(e)},r))},pause:function(){this.paused||(this.paused=!0,clearInterval(this.playInterval))},seekTo:function(e){e=0>e?0:e,e=e>this.duration?this.duration:e,this.currentTime=e}},e.HTMLNullVideoElement=function(e){return new a(e)},e.HTMLNullVideoElement._canPlaySrc=function(e){return s.test(e)?"probably":o},e.HTMLNullVideoElement.canPlayType=function(e){return"video/x-nullvideo"===e?"probably":o}}(Popcorn,document),function(e,t,n){function i(e){function n(t,n){var i=JSON.stringify({method:t,value:n});e.contentWindow&&e.contentWindow.postMessage(i,a)}var i=this,a=e.src.split("?")[0];"//"===a.substr(0,2)&&(a=t.location.protocol+a);var r="play pause paused seekTo unload getCurrentTime getDuration getVideoEmbedCode getVideoHeight getVideoWidth getVideoUrl getColor setColor setLoop getVolume setVolume addEventListener".split(" ");r.forEach(function(e){i[e]=function(t){n(e,t)}})}function a(a){function u(e){j.unshift(e)}function d(){A.addEventListener("loadProgress"),A.addEventListener("playProgress"),A.addEventListener("play"),A.addEventListener("pause"),A.addEventListener("finish"),A.addEventListener("seek"),A.getDuration(),R.networkState=O.NETWORK_LOADING,O.dispatchEvent("loadstart"),O.dispatchEvent("progress")}function l(e){var t=R.duration;if(t!==e&&(R.duration=e,O.dispatchEvent("durationchange"),isNaN(t))){R.networkState=O.NETWORK_IDLE,R.readyState=O.HAVE_METADATA,O.dispatchEvent("loadedmetadata"),O.dispatchEvent("loadeddata"),R.readyState=O.HAVE_FUTURE_DATA,O.dispatchEvent("canplay"),R.readyState=O.HAVE_ENOUGH_DATA,O.dispatchEvent("canplaythrough"),R.autoplay&&O.play();for(var n=j.length;n--;)j[n](),delete j[n]}}function c(){V&&A&&(clearInterval(M),A.pause(),t.removeEventListener("message",w,!1),I.removeChild(N),N=n.createElement("iframe"))}function p(e){return V?(f(),void A.seekTo(e)):void u(function(){p(e)})}function f(){R.seeking=!0,O.dispatchEvent("seeking")}function m(){R.seeking=!1,O.dispatchEvent("timeupdate"),O.dispatchEvent("seeked"),O.dispatchEvent("canplay"),O.dispatchEvent("canplaythrough")}function h(){R.paused=!0,H||(H=!0,clearInterval(C),O.dispatchEvent("pause"))}function g(){O.dispatchEvent("timeupdate")}function y(){R.ended&&p(0),M||(M=setInterval(_,r),R.loop&&O.dispatchEvent("play")),C=setInterval(g,O._util.TIMEUPDATE_MS),R.paused=!1,H&&(H=!1,R.loop||O.dispatchEvent("play"),O.dispatchEvent("playing"))}function v(){R.loop?(p(0),O.play()):(R.ended=!0,O.dispatchEvent("ended"))}function E(e){var t=R.currentTime=e;t!==U&&O.dispatchEvent("timeupdate"),U=R.currentTime}function b(e){if(e.origin===s){var n;try{n=JSON.parse(e.data)}catch(a){console.warn(a)}if(n.player_id==D)switch(n.event){case"ready":A=new i(N),A.addEventListener("loadProgress"),A.addEventListener("pause"),A.setVolume(0),A.play();break;case"loadProgress":var r=parseFloat(n.data.duration);r>0&&!V&&(V=!0,A.pause(),A.setVolume(1),t.removeEventListener("message",b,!1),t.addEventListener("message",w,!1),d());break;case"pause":A.setVolume(1),t.removeEventListener("message",b,!1),t.addEventListener("message",w,!1),d()}}}function w(e){if(e.origin===s){var t;try{t=JSON.parse(e.data)}catch(n){console.warn(n)}if(t.player_id==D){switch(t.method){case"getCurrentTime":E(parseFloat(t.value));break;case"getDuration":l(parseFloat(t.value));break;case"getVolume":S(parseFloat(t.value))}switch(t.event){case"loadProgress":O.dispatchEvent("progress"),l(parseFloat(t.data.duration));break;case"playProgress":!play&&t.data.seconds>0&&(play=!0,y()),E(parseFloat(t.data.seconds));break;case"play":y();break;case"pause":h();break;case"finish":v();break;case"seek":E(parseFloat(t.data.seconds)),m()}}}}function _(){A.getCurrentTime()}function T(e){if(!O._canPlaySrc(e))return R.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void O.dispatchEvent("error");R.src=e,V&&c(),V=!1;var n,i=O._util.parseUri(e),a=i.queryKey,r=["api=1","player_id="+D,"title=0","byline=0","portrait=0"];R.loop="1"===a.loop||R.loop,delete a.loop,R.autoplay="1"===a.autoplay||R.autoplay,delete a.autoplay,i=s+"/video/"+/\d+$/.exec(i.path)+"?";for(n in a)a.hasOwnProperty(n)&&r.push(encodeURIComponent(n)+"="+encodeURIComponent(a[n]));i+=r.join("&"),N.id=D,N.style.width="100%",N.style.height="100%",N.frameBorder=0,N.webkitAllowFullScreen=!0,N.mozAllowFullScreen=!0,N.allowFullScreen=!0,I.appendChild(N),N.src=i,t.addEventListener("message",b,!1)}function S(e){R.volume!==e&&(R.volume=e,O.dispatchEvent("volumechange"))}function k(e){return R.volume=e,V?(A.setVolume(e),void O.dispatchEvent("volumechange")):void u(function(){k(e)})}function P(){return R.muted>0?R.muted:R.volume}function x(e){return V?void(e?(R.muted=R.volume,k(0)):(R.muted=0,k(R.muted))):(R.muted=e?1:0,void u(function(){x(e)}))}function L(){return R.muted>0}if(!t.postMessage)throw"ERROR: HTMLVimeoVideoElement requires window.postMessage";var A,C,M,O=new e._MediaElementProto,I="string"==typeof a?e.dom.find(a):a,N=n.createElement("iframe"),R={src:o,networkState:O.NETWORK_EMPTY,readyState:O.HAVE_NOTHING,seeking:!1,autoplay:o,preload:o,controls:!1,loop:!1,poster:o,volume:1,muted:0,currentTime:0,duration:0/0,ended:!1,paused:!0,error:null},V=!1,D=e.guid(),H=!0,j=[],U=0;return play=!1,O._eventNamespace=e.guid("HTMLVimeoVideoElement::"),O.parentNode=I,O._util.type="Vimeo",O.play=function(){return R.paused=!1,V?void A.play():void u(function(){O.play()})},O.pause=function(){return R.paused=!0,V?void A.pause():void u(function(){O.pause()})},Object.defineProperties(O,{src:{get:function(){return R.src},set:function(e){e&&e!==R.src&&T(e)}},autoplay:{get:function(){return R.autoplay},set:function(e){R.autoplay=O._util.isAttributeSet(e)}},loop:{get:function(){return R.loop},set:function(e){R.loop=O._util.isAttributeSet(e)}},width:{get:function(){return O.parentNode.offsetWidth}},height:{get:function(){return O.parentNode.offsetHeight}},currentTime:{get:function(){return R.currentTime},set:function(e){p(e)}},duration:{get:function(){return R.duration}},ended:{get:function(){return R.ended}},paused:{get:function(){return R.paused}},seeking:{get:function(){return R.seeking}},readyState:{get:function(){return R.readyState}},networkState:{get:function(){return R.networkState}},volume:{get:function(){return P()},set:function(e){if(0>e||e>1)throw"Volume value must be between 0.0 and 1.0";k(e)}},muted:{get:function(){return L()},set:function(e){x(O._util.isAttributeSet(e))}},error:{get:function(){return R.error}}}),O._canPlaySrc=e.HTMLVimeoVideoElement._canPlaySrc,O.canPlayType=e.HTMLVimeoVideoElement.canPlayType,O}var r=16,o="",s="https://player.vimeo.com";e.HTMLVimeoVideoElement=function(e){return new a(e)},e.HTMLVimeoVideoElement._canPlaySrc=function(e){return/player.vimeo.com\/video\/\d+/.test(e)||/vimeo.com\/\d+/.test(e)?"probably":o},e.HTMLVimeoVideoElement.canPlayType=function(e){return"video/x-vimeo"===e?"probably":o}}(Popcorn,window,document),function(e,t){function n(){return"maybe"}function i(e,i){var a="string"==typeof e?t.querySelector(e):e,r=t.createElement(i);return a.appendChild(r),r._canPlaySrc=n,r}e.HTMLVideoElement=function(e){return i(e,"video")},e.HTMLVideoElement._canPlaySrc=n,e.HTMLAudioElement=function(e){return i(e,"audio")},e.HTMLAudioElement._canPlaySrc=n}(Popcorn,window.document),function(e,t,n){function i(){var e;if(YT.loaded)for(c=!0;f.length;)(e=f.shift())();else setTimeout(i,250)}function a(){var e;return p||(t.YT?i():(e=n.createElement("script"),e.addEventListener("load",i,!1),e.src="https://www.youtube.com/iframe_api",n.head.appendChild(e)),p=!0),c}function r(e){f.push(e)}function o(i){function o(e){J.push(e)}function c(){D.pauseVideo(),E("play",c),v("play",M)}function p(){v("pause",I),E("pause",p)}function f(){var e=function(){D.isMuted()?(v("play",y),D.playVideo()):setTimeout(e,0)};q=!0,D.mute(),e()}function m(e){var t={name:"MediaError"};switch(e.data){case 2:t.message="Invalid video parameter.",t.code=MediaError.MEDIA_ERR_ABORTED;break;case 5:t.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",t.code=MediaError.MEDIA_ERR_DECODE;case 100:t.message="Video not found.",t.code=MediaError.MEDIA_ERR_NETWORK;break;case 101:case 150:t.message="Video not usable.",t.code=MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED;break;default:t.message="Unknown error.",t.code=5}z.error=t,F.dispatchEvent("error")}function h(){for(v("play",M),v("pause",I),(z.autoplay||!z.paused)&&(E("play",h),z.paused=!1,o(function(){z.paused||M()})),z.muted||D.unMute(),z.readyState=F.HAVE_METADATA,F.dispatchEvent("loadedmetadata"),j=setInterval(k,s),F.dispatchEvent("loadeddata"),z.readyState=F.HAVE_FUTURE_DATA,F.dispatchEvent("canplay"),G=!0,H=setInterval(P,50);J.length;)J[0](),J.shift();z.readyState=F.HAVE_ENOUGH_DATA,F.dispatchEvent("canplaythrough")}function g(){return E("pause",g),D.getCurrentTime()>0?void setTimeout(g,0):void(z.autoplay||!z.paused?(v("play",h),D.playVideo()):h())}function y(){return E("play",y),0===D.getCurrentTime()?void setTimeout(y,0):(v("pause",g),D.seekTo(0),void D.pauseVideo())}function v(e,t){F.addEventListener("youtube-"+e,t,!1)}function E(e,t){F.removeEventListener("youtube-"+e,t,!1)}function b(e){F.dispatchEvent("youtube-"+e)}function w(){z.networkState=F.NETWORK_LOADING,F.dispatchEvent("waiting")}function _(e){switch(e.data){case YT.PlayerState.ENDED:b("ended");break;case YT.PlayerState.PLAYING:b("play");break;case YT.PlayerState.PAUSED:D.getDuration()!==D.getCurrentTime()&&b("pause");break;case YT.PlayerState.BUFFERING:b("buffering");break;case YT.PlayerState.CUED:}e.data!==YT.PlayerState.BUFFERING&&X===YT.PlayerState.BUFFERING&&O(),X=e.data}function T(){q&&D&&(E("buffering",w),E("ended",N),E("play",M),E("pause",I),I(),G=!1,Y=!1,z.currentTime=0,J=[],clearInterval(j),clearInterval(H),D.stopVideo(),D.clearVideo(),D.destroy(),B=n.createElement("div"))}function S(n){if(!F._canPlaySrc(n))return z.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void F.dispatchEvent("error");if(z.src=n,!a())return void r(function(){S(n)});if(q){if(!G)return void o(function(){S(n)});T()}W.appendChild(B);var i=F._util.parseUri(n).queryKey;delete i.v,z.autoplay="1"===i.autoplay||z.autoplay,delete i.autoplay,z.loop="1"===i.loop||z.loop,delete i.loop,i.rel=i.rel||0,i.modestbranding=i.modestbranding||1,i.iv_load_policy=i.iv_load_policy||3,i.disablekb=i.disablekb||1,i.showinfo=i.showinfo||0;var s="file:"===t.location.protocol?"*":t.location.protocol+"//"+t.location.host;i.origin=i.origin||s,i.controls=i.controls||z.controls?2:0,z.controls=i.controls,i.wmode=i.wmode||"opaque",n=d.exec(n)[1];var u="https://gdata.youtube.com/feeds/api/videos/"+n+"?v=2&alt=jsonc&callback=?";e.getJSONP(u,function(e){var t="failed to retreive duration data, reason: ";return e.error?void console.warn(t+e.error.message):e.data?(z.duration=e.data.duration,F.dispatchEvent("durationchange"),D=new YT.Player(B,{width:"100%",height:"100%",wmode:i.wmode,videoId:n,playerVars:i,events:{onReady:f,onError:m,onStateChange:_}}),z.networkState=F.NETWORK_LOADING,F.dispatchEvent("loadstart"),void F.dispatchEvent("progress")):void console.warn(t+"no response data")})}function k(){var e=D.getCurrentTime();z.seeking?l(e-z.currentTime)<1&&C():(l(z.currentTime-e)>s&&(A(),C()),z.currentTime=e)}function P(){var e=D.getVideoLoadedFraction();e&&$!==e&&($=e,O())}function x(e){if(e!==z.currentTime){if(z.currentTime=e,!G)return void o(function(){A(),D.seekTo(e)});A(),D.seekTo(e)}}function L(){F.dispatchEvent("timeupdate")}function A(){v("pause",p),E("pause",I),z.seeking=!0,F.dispatchEvent("seeking")}function C(){z.ended=!1,z.seeking=!1,F.dispatchEvent("timeupdate"),F.dispatchEvent("seeked"),F.dispatchEvent("canplay"),F.dispatchEvent("canplaythrough")}function M(){z.ended&&(x(0),z.ended=!1),U=setInterval(L,F._util.TIMEUPDATE_MS),z.paused=!1,K&&(K=!1,(z.loop&&!Y||!z.loop)&&(Y=!0,F.dispatchEvent("play")),F.dispatchEvent("playing"))}function O(){F.dispatchEvent("progress")}function I(){z.paused=!0,K||(K=!0,clearInterval(U),F.dispatchEvent("pause"))}function N(){z.loop?(x(0),F.play()):(z.ended=!0,I(),v("play",c),E("play",M),F.dispatchEvent("timeupdate"),F.dispatchEvent("ended"))}function R(e){return z.muted=e,G?(D[e?"mute":"unMute"](),void F.dispatchEvent("volumechange")):void o(function(){R(z.muted)})}function V(){return z.muted}if(!t.postMessage)throw"ERROR: HTMLYouTubeVideoElement requires window.postMessage";var D,H,j,U,F=new e._MediaElementProto,W="string"==typeof i?n.querySelector(i):i,B=n.createElement("div"),z={src:u,networkState:F.NETWORK_EMPTY,readyState:F.HAVE_NOTHING,seeking:!1,autoplay:u,preload:u,controls:!1,loop:!1,poster:u,volume:1,muted:!1,currentTime:0,duration:0/0,ended:!1,paused:!0,error:null},q=!1,G=!1,Y=!1,K=!0,J=[],X=-1,$=0;return F._eventNamespace=e.guid("HTMLYouTubeVideoElement::"),F.parentNode=W,F._util.type="YouTube",v("buffering",w),v("ended",N),F.play=function(){return z.paused=!1,G?void D.playVideo():void o(function(){F.play()})},F.pause=function(){return z.paused=!0,G?(p(),void D.pauseVideo()):void o(function(){F.pause()})},Object.defineProperties(F,{src:{get:function(){return z.src},set:function(e){e&&e!==z.src&&S(e)}},autoplay:{get:function(){return z.autoplay},set:function(e){z.autoplay=F._util.isAttributeSet(e)}},loop:{get:function(){return z.loop},set:function(e){z.loop=F._util.isAttributeSet(e)}},width:{get:function(){return F.parentNode.offsetWidth}},height:{get:function(){return F.parentNode.offsetHeight}},currentTime:{get:function(){return z.currentTime},set:function(e){x(e)}},duration:{get:function(){return z.duration}},ended:{get:function(){return z.ended}},paused:{get:function(){return z.paused}},seeking:{get:function(){return z.seeking}},readyState:{get:function(){return z.readyState}},networkState:{get:function(){return z.networkState}},volume:{get:function(){return z.volume},set:function(e){if(0>e||e>1)throw"Volume value must be between 0.0 and 1.0";return z.volume=e,G?(D.setVolume(100*z.volume),void F.dispatchEvent("volumechange")):void o(function(){F.volume=e})}},muted:{get:function(){return V()},set:function(e){R(F._util.isAttributeSet(e))}},error:{get:function(){return z.error}},buffered:{get:function(){var e={start:function(e){if(0===e)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1"},end:function(e){if(0===e)return z.duration?z.duration*$:0;throw"INDEX_SIZE_ERR: DOM Exception 1"}};return Object.defineProperties(e,{length:{get:function(){return 1}}}),e},configurable:!0}}),F._canPlaySrc=e.HTMLYouTubeVideoElement._canPlaySrc,F.canPlayType=e.HTMLYouTubeVideoElement.canPlayType,F}var s=10,u="",d=/^.*(?:\/|v=)(.{11})/,l=Math.abs,c=!1,p=!1,f=[];e.HTMLYouTubeVideoElement=function(e){return new o(e)},e.HTMLYouTubeVideoElement._canPlaySrc=function(e){return/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(youtu).*(?:\/|v=)(.{11})/.test(e)?"probably":u},e.HTMLYouTubeVideoElement.canPlayType=function(e){return"video/x-youtube"===e?"probably":u}}(Popcorn,window,document),function(e,t,n){function i(){return d||(e.getScript("https://w.soundcloud.com/player/api.js",function(){e.getScript("https://connect.soundcloud.com/sdk.js",function(){u=!0,SC.initialize({client_id:"PRaNFlda6Bhf5utPjUsptg"});for(var e=l.length;e--;)l[e](),delete l[e]})}),d=!0),u}function a(e){l.unshift(e)}function r(r){function u(e){H.unshift(e)}function d(){A.bind(SC.Widget.Events.LOAD_PROGRESS,function(e){w({type:"loadProgress",data:e.currentPosition/1e3})}),A.bind(SC.Widget.Events.PLAY_PROGRESS,function(e){w({type:"playProgress",data:e.currentPosition/1e3})}),A.bind(SC.Widget.Events.PLAY,function(){w({type:"play"})}),A.bind(SC.Widget.Events.PAUSE,function(){w({type:"pause"})}),A.bind(SC.Widget.Events.SEEK,function(){A.getPosition(function(e){var t=e/1e3;return R.seeking?void(Math.floor(t)!==Math.floor(R.currentTime)?A.seekTo(1e3*R.currentTime):h()):void w({type:"seek",data:t})})}),A.bind(SC.Widget.Events.FINISH,function(){w({type:"finish"})}),V=!0,A.getDuration(c)}function l(){A.bind(SC.Widget.Events.PLAY_PROGRESS,function(e){A.setVolume(0),e.currentPosition>0&&(A.unbind(SC.Widget.Events.PLAY_PROGRESS),A.bind(SC.Widget.Events.PAUSE,function(){A.unbind(SC.Widget.Events.PAUSE),A.setVolume(100),A.bind(SC.Widget.Events.SEEK,function(){A.unbind(SC.Widget.Events.SEEK),d()}),A.seekTo(0)}),A.pause())}),A.play()}function c(e){e/=1e3;var t=R.duration;if(t!==e&&(R.duration=e,O.dispatchEvent("durationchange"),isNaN(t))){R.networkState=O.NETWORK_IDLE,R.readyState=O.HAVE_METADATA,O.dispatchEvent("loadedmetadata"),O.dispatchEvent("loadeddata"),R.readyState=O.HAVE_FUTURE_DATA,O.dispatchEvent("canplay"),R.readyState=O.HAVE_ENOUGH_DATA,O.dispatchEvent("canplaythrough");for(var n=H.length;n--;)H[n](),delete H[n];R.paused&&R.autoplay&&O.play()}}function p(){V&&A&&(clearInterval(M),A.pause(),A.unbind(SC.Widget.Events.READY),A.unbind(SC.Widget.Events.LOAD_PROGRESS),A.unbind(SC.Widget.Events.PLAY_PROGRESS),A.unbind(SC.Widget.Events.PLAY),A.unbind(SC.Widget.Events.PAUSE),A.unbind(SC.Widget.Events.SEEK),A.unbind(SC.Widget.Events.FINISH),I.removeChild(N),N=n.createElement("iframe"))
}function f(e){function t(){m(),A.seekTo(e)}return R.currentTime=e,e=1e3*e,V?void t():void addMediaReadyCallback(t)}function m(){R.seeking=!0,O.dispatchEvent("seeking")}function h(){R.ended=!1,R.seeking=!1,O.dispatchEvent("timeupdate"),O.dispatchEvent("seeked"),O.dispatchEvent("canplay"),O.dispatchEvent("canplaythrough")}function g(){R.paused=!0,D||(D=!0,clearInterval(C),O.dispatchEvent("pause"))}function y(){O.dispatchEvent("timeupdate")}function v(){M||(M=setInterval(_,o),R.loop&&O.dispatchEvent("play")),C=setInterval(y,O._util.TIMEUPDATE_MS),R.paused=!1,D&&(D=!1,R.loop||O.dispatchEvent("play"),O.dispatchEvent("playing"))}function E(){R.loop?(f(0),O.play()):(R.ended=!0,O.pause(),g(),O.dispatchEvent("timeupdate"),O.dispatchEvent("ended"))}function b(e){R.currentTime=e,e!==j&&O.dispatchEvent("timeupdate"),j=e}function w(e){switch(e.type){case"loadProgress":O.dispatchEvent("progress");break;case"playProgress":b(e.data);break;case"play":v();break;case"pause":g();break;case"finish":E();break;case"seek":b(e.data)}}function _(){R.ended||A.getPosition(function(e){b(e/1e3)})}function T(t){return O._canPlaySrc(t)?(R.src=t,V&&p(),i()?(V=!1,void SC.get("/resolve",{url:t},function(t){var n;t.errors&&(n={name:"MediaError"},t.errors[0]&&"404 - Not Found"===t.errors[0].error_message&&(n.message="Video not found.",n.code=MediaError.MEDIA_ERR_NETWORK),R.error=n,O.dispatchEvent("error")),N.id=e.guid("soundcloud-"),N.width=R.width,N.height=R.height,N.frameBorder=0,N.webkitAllowFullScreen=!0,N.mozAllowFullScreen=!0,N.allowFullScreen=!0,L(R.controls),I.appendChild(N),N.onload=function(){N.onload=null,A=SC.Widget(N),A.bind(SC.Widget.Events.READY,l),R.networkState=O.NETWORK_LOADING,O.dispatchEvent("loadstart"),O.dispatchEvent("progress")},N.src="https://w.soundcloud.com/player/?url="+t.uri+"&show_artwork=false&buying=false&liking=false&sharing=false&download=false&show_comments=false&show_user=false&single_active=false"})):void a(function(){T(t)})):(R.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void O.dispatchEvent("error"))}function S(e){return R.volume=e,V?(A.setVolume(e),void O.dispatchEvent("volumechange")):void u(function(){S(e)})}function k(){return R.muted>0?R.muted:R.volume}function P(e){return V?void(e?(R.muted=R.volume,S(0)):(R.muted=0,S(R.muted))):(R.muted=e?1:0,void u(function(){P(e)}))}function x(){return R.muted>0}function L(e){V?(N.style.position="absolute",N.style.visibility=e?"visible":"hidden"):(N.style.opacity=e?"1":"0",N.style.pointerEvents=e?"auto":"none"),R.controls=e}if(!t.postMessage)throw"ERROR: HTMLSoundCloudAudioElement requires window.postMessage";var A,C,M,O=new e._MediaElementProto,I="string"==typeof r?e.dom.find(r):r,N=n.createElement("iframe"),R={src:s,networkState:O.NETWORK_EMPTY,readyState:O.HAVE_NOTHING,seeking:!1,autoplay:s,preload:s,controls:!1,loop:!1,poster:s,volume:100,muted:0,currentTime:0,duration:0/0,ended:!1,paused:!0,width:0|I.width?I.width:O._util.MIN_WIDTH,height:0|I.height?I.height:O._util.MIN_HEIGHT,error:null},V=!1,D=!0,H=[],j=0;return O._eventNamespace=e.guid("HTMLSoundCloudAudioElement::"),O.parentNode=I,O._util.type="SoundCloud",O.play=function(){return R.paused=!1,V?(R.ended&&f(0),void A.play()):void u(function(){O.play()})},O.pause=function(){return R.paused=!0,V?void A.pause():void u(function(){O.pause()})},Object.defineProperties(O,{src:{get:function(){return R.src},set:function(e){e&&e!==R.src&&T(e)}},autoplay:{get:function(){return R.autoplay},set:function(e){R.autoplay=O._util.isAttributeSet(e)}},loop:{get:function(){return R.loop},set:function(e){R.loop=O._util.isAttributeSet(e)}},width:{get:function(){return N.width},set:function(e){N.width=e,R.width=N.width}},height:{get:function(){return N.height},set:function(e){N.height=e,R.height=N.height}},currentTime:{get:function(){return R.currentTime},set:function(e){f(e)}},duration:{get:function(){return R.duration}},ended:{get:function(){return R.ended}},paused:{get:function(){return R.paused}},seeking:{get:function(){return R.seeking}},readyState:{get:function(){return R.readyState}},networkState:{get:function(){return R.networkState}},volume:{get:function(){var e=k();return e/100},set:function(e){if(0>e||e>1)throw"Volume value must be between 0.0 and 1.0";e=100*e,S(e)}},muted:{get:function(){return x()},set:function(e){P(O._util.isAttributeSet(e))}},error:{get:function(){return R.error}},controls:{get:function(){return R.controls},set:function(e){L(!!e)}}}),O._canPlaySrc=e.HTMLSoundCloudAudioElement._canPlaySrc,O.canPlayType=e.HTMLSoundCloudAudioElement.canPlayType,O}var o=16,s="",u=!1,d=!1,l=[];e.HTMLSoundCloudAudioElement=function(e){return new r(e)},e.HTMLSoundCloudAudioElement._canPlaySrc=function(e){return/(?:https?:\/\/www\.|https?:\/\/|www\.|\.|^)(soundcloud)/.test(e)?"probably":s},e.HTMLSoundCloudAudioElement.canPlayType=function(e){return"audio/x-soundcloud"===e?"probably":s}}(Popcorn,window,document),function(e){function t(e,n){return e.map?void(e.map.div.style.display=n):void setTimeout(function(){t(e,n)},10)}var n=1;e.plugin("openmap",function(i){var a,r,o,s,u,d,l,c,p=document.getElementById(i.target);return a=document.createElement("div"),a.id="openmapdiv"+n,a.style.width="100%",a.style.height="100%",n++,p&&p.appendChild(a),c=function(){if(window.OpenLayers&&window.OpenLayers.Layer.Stamen){switch(i.location?(location=new OpenLayers.LonLat(0,0),e.getJSONP("//tinygeocoder.com/create-api.php?q="+i.location+"&callback=jsonp",function(e){r=new OpenLayers.LonLat(e[1],e[0])})):r=new OpenLayers.LonLat(i.lng,i.lat),i.type=i.type||"ROADMAP",i.type){case"SATELLITE":i.map=new OpenLayers.Map({div:a,maxResolution:.28125,tileSize:new OpenLayers.Size(512,512)});var t=new OpenLayers.Layer.WorldWind("LANDSAT","//worldwind25.arc.nasa.gov/tile/tile.aspx",2.25,4,{T:"105"});i.map.addLayer(t),s=new OpenLayers.Projection("EPSG:4326"),o=new OpenLayers.Projection("EPSG:4326");break;case"TERRAIN":s=new OpenLayers.Projection("EPSG:4326"),o=new OpenLayers.Projection("EPSG:4326"),i.map=new OpenLayers.Map({div:a,projection:o});var n=new OpenLayers.Layer.WMS("USGS Terraserver","//terraserver-usa.org/ogcmap.ashx?",{layers:"DRG"});i.map.addLayer(n);break;case"STAMEN-TONER":case"STAMEN-WATERCOLOR":case"STAMEN-TERRAIN":var u=i.type.replace("STAMEN-","").toLowerCase(),d=new OpenLayers.Layer.Stamen(u);s=new OpenLayers.Projection("EPSG:4326"),o=new OpenLayers.Projection("EPSG:900913"),r=r.transform(s,o),i.map=new OpenLayers.Map({div:a,projection:o,displayProjection:s,controls:[new OpenLayers.Control.Navigation,new OpenLayers.Control.PanPanel,new OpenLayers.Control.ZoomPanel]}),i.map.addLayer(d);break;default:o=new OpenLayers.Projection("EPSG:900913"),s=new OpenLayers.Projection("EPSG:4326"),r=r.transform(s,o),i.map=new OpenLayers.Map({div:a,projection:o,displayProjection:s});var l=new OpenLayers.Layer.OSM;i.map.addLayer(l)}i.map&&(i.map.setCenter(r,i.zoom||10),i.map.div.style.display="none")}else setTimeout(function(){c()},50)},c(),{_setup:function(t){window.OpenLayers||e.getScript("//openlayers.org/api/OpenLayers.js",function(){e.getScript("//maps.stamen.com/js/tile.stamen.js")});var n=function(){if(t.map){if(t.zoom=t.zoom||2,t.zoom&&"number"!=typeof t.zoom&&(t.zoom=+t.zoom),t.map.setCenter(r,t.zoom),t.markers){var i=OpenLayers.Util.extend({},OpenLayers.Feature.Vector.style["default"]),a=function(e){clickedFeature=e.feature,clickedFeature.attributes.text&&(l=new OpenLayers.Popup.FramedCloud("featurePopup",clickedFeature.geometry.getBounds().getCenterLonLat(),new OpenLayers.Size(120,250),clickedFeature.attributes.text,null,!0,function(){d.unselect(this.feature)}),clickedFeature.popup=l,l.feature=clickedFeature,t.map.addPopup(l))},c=function(e){feature=e.feature,feature.popup&&(l.feature=null,t.map.removePopup(feature.popup),feature.popup.destroy(),feature.popup=null)},p=function(t){e.getJSONP("//tinygeocoder.com/create-api.php?q="+t.location+"&callback=jsonp",function(e){var n=new OpenLayers.Geometry.Point(e[1],e[0]).transform(s,o),a=OpenLayers.Util.extend({},i);(!t.size||isNaN(t.size))&&(t.size=14),a.pointRadius=t.size,a.graphicOpacity=1,a.externalGraphic=t.icon;var r=new OpenLayers.Feature.Vector(n,null,a);t.text&&(r.attributes={text:t.text}),u.addFeatures([r])})};u=new OpenLayers.Layer.Vector("Point Layer",{style:i}),t.map.addLayer(u);for(var f=0,m=t.markers.length;m>f;f++){var h=t.markers[f];if(h.text&&(d||(d=new OpenLayers.Control.SelectFeature(u),t.map.addControl(d),d.activate(),u.events.on({featureselected:a,featureunselected:c}))),h.location){var g=p;g(h)}else{var y=new OpenLayers.Geometry.Point(h.lng,h.lat).transform(s,o),v=OpenLayers.Util.extend({},i);(!h.size||isNaN(h.size))&&(h.size=14),v.pointRadius=h.size,v.graphicOpacity=1,v.externalGraphic=h.icon;var E=new OpenLayers.Feature.Vector(y,null,v);h.text&&(E.attributes={text:h.text}),u.addFeatures([E])}}}}else setTimeout(function(){n()},13)};n()},start:function(e,n){t(n,"block")},end:function(e,n){t(n,"none")},_teardown:function(){p&&p.removeChild(a),a=map=r=o=s=u=d=l=null}}},{about:{name:"Popcorn OpenMap Plugin",version:"0.3",author:"@mapmeld",website:"mapadelsur.blogspot.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"map-container",type:{elem:"select",options:["ROADMAP","SATELLITE","TERRAIN"],label:"Map Type",optional:!0},zoom:{elem:"input",type:"number",label:"Zoom","default":2},lat:{elem:"input",type:"text",label:"Lat",optional:!0},lng:{elem:"input",type:"text",label:"Lng",optional:!0},location:{elem:"input",type:"text",label:"Location","default":"Toronto, Ontario, Canada"},markers:{elem:"input",type:"text",label:"List Markers",optional:!0}}})}(Popcorn);var wikiCallback;!function(e){e.plugin("wikipedia",{manifest:{about:{name:"Popcorn Wikipedia Plugin",version:"0.1",author:"@annasob",website:"annasob.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},lang:{elem:"input",type:"text",label:"Language","default":"english",optional:!0},src:{elem:"input",type:"url",label:"Wikipedia URL","default":"http://en.wikipedia.org/wiki/Cat"},title:{elem:"input",type:"text",label:"Title","default":"Cats",optional:!0},numberofwords:{elem:"input",type:"number",label:"Number of Words","default":"200",optional:!0},target:"wikipedia-container"}},_setup:function(t){var n,i=e.guid();t.lang||(t.lang="en"),t.numberofwords=t.numberofwords||200,window["wikiCallback"+i]=function(e){t._link=document.createElement("a"),t._link.setAttribute("href",t.src),t._link.setAttribute("target","_blank"),t._link.innerHTML=t.title||e.parse.displaytitle,t._desc=document.createElement("p"),n=e.parse.text["*"].substr(e.parse.text["*"].indexOf("<p>")),n=n.replace(/((<(.|\n)+?>)|(\((.*?)\) )|(\[(.*?)\]))/g,""),n=n.split(" "),t._desc.innerHTML=n.slice(0,n.length>=t.numberofwords?t.numberofwords:n.length).join(" ")+" ...",t._fired=!0},t.src&&e.getScript("//"+t.lang+".wikipedia.org/w/api.php?action=parse&props=text&redirects&page="+t.src.slice(t.src.lastIndexOf("/")+1)+"&format=json&callback=wikiCallback"+i),t.toString=function(){return t.src||t._natives.manifest.options.src["default"]}},start:function(e,t){var n=function(){t._fired?t._link&&t._desc&&document.getElementById(t.target)&&(document.getElementById(t.target).appendChild(t._link),document.getElementById(t.target).appendChild(t._desc),t._added=!0):setTimeout(function(){n()},13)};n()},end:function(e,t){t._added&&(document.getElementById(t.target).removeChild(t._link),document.getElementById(t.target).removeChild(t._desc))},_teardown:function(e){e._added&&(e._link.parentNode&&document.getElementById(e.target).removeChild(e._link),e._desc.parentNode&&document.getElementById(e.target).removeChild(e._desc),delete e.target)}})}(Popcorn),function(e){var t=0,n=function(t,n){var i=t.container=document.createElement("div"),a=i.style,r=t.media,o=function(){var e=t.position();a.fontSize="18px",a.width=r.offsetWidth+"px",a.top=e.top+r.offsetHeight-i.offsetHeight-40+"px",a.left=e.left+"px",setTimeout(o,10)};return i.id=n||e.guid(),a.position="absolute",a.color="white",a.textShadow="black 2px 2px 6px",a.fontWeight="bold",a.textAlign="center",o(),t.media.parentNode.appendChild(i),i};e.plugin("subtitle",{manifest:{about:{name:"Popcorn Subtitle Plugin",version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"text",label:"Start"},end:{elem:"input",type:"text",label:"End"},target:"subtitle-container",text:{elem:"input",type:"text",label:"Text"}}},_setup:function(e){var i=document.createElement("div");i.id="subtitle-"+t++,i.style.display="none",!this.container&&(!e.target||"subtitle-container"===e.target)&&n(this),e.container=e.target&&"subtitle-container"!==e.target?document.getElementById(e.target)||n(this,e.target):this.container,document.getElementById(e.container.id)&&document.getElementById(e.container.id).appendChild(i),e.innerContainer=i,e.showSubtitle=function(){e.innerContainer.innerHTML=e.text||""}},start:function(e,t){t.innerContainer.style.display="inline",t.showSubtitle(t,t.text)},end:function(e,t){t.innerContainer.style.display="none",t.innerContainer.innerHTML=""},_teardown:function(e){e.container.removeChild(e.innerContainer)}})}(Popcorn),function(e,t){var n={};e.plugin("documentcloud",{manifest:{about:{name:"Popcorn Document Cloud Plugin",version:"0.1",author:"@humphd, @ChrisDeCairos",website:"http://vocamus.net/dave"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"documentcloud-container",width:{elem:"input",type:"text",label:"Width",optional:!0},height:{elem:"input",type:"text",label:"Height",optional:!0},src:{elem:"input",type:"url",label:"PDF URL","default":"http://www.documentcloud.org/documents/70050-urbina-day-1-in-progress.html"},preload:{elem:"input",type:"checkbox",label:"Preload","default":!0},page:{elem:"input",type:"number",label:"Page Number",optional:!0},aid:{elem:"input",type:"number",label:"Annotation Id",optional:!0}}},_setup:function(i){function a(){function a(e){i._key=e.api.getId(),i._changeView=function(e){i.aid?e.pageSet.showAnnotation(e.api.getAnnotation(i.aid)):e.api.setCurrentPage(i.page)}}function r(t){var r=!1;return e.forEach(o.viewers,function(e){if(e.api.getSchema().canonicalURL===t){var s;a(e),s=n[i._key],i._containerId=s.id,s.num+=1,r=!0,o.loaded=!0}}),r}function u(){var e={num:1,id:i._containerId};n[i._key]=e,o.loaded=!0}o.loaded=!1;{var d,l=i.url.replace(/\.html$/,".js"),c=i.target,p=t.getElementById(c),f=t.createElement("div"),m=e.position(p),h=i.width||m.width,g=i.height||m.height,y=i.sidebar||!0,v=i.text||!0,E=i.pdf||!0,b=i.showAnnotations||!0,w=i.zoom||700,_=i.search||!0;i.page}if(!r(i.url)){f.id=i._containerId=e.guid(c),d="#"+f.id,p.appendChild(f),s.trigger("documentready");var T=i.page||i.aid?function(e){a(e),i._changeView(e),f.style.visibility="hidden",e.elements.pages.hide(),u()}:function(e){a(e),u(),f.style.visibility="hidden",e.elements.pages.hide()};o.load(l,{width:h,height:g,sidebar:y,text:v,pdf:E,showAnnotations:b,zoom:w,search:_,container:d,afterLoad:T})}}function r(){window.DV.loaded?a():setTimeout(r,25)}var o=window.DV=window.DV||{},s=this;if(o.loading)r();else{o.loading=!0,o.recordHit="//www.documentcloud.org/pixel.gif";var u=t.createElement("link"),d=t.getElementsByTagName("head")[0];u.rel="stylesheet",u.type="text/css",u.media="screen",u.href="//s3.documentcloud.org/viewer/viewer-datauri.css",d.appendChild(u),o.loaded=!1,e.getScript("http://s3.documentcloud.org/viewer/viewer.js",function(){o.loading=!1,a()})}i.toString=function(){return i.src||i._natives.manifest.options.src["default"]}},start:function(e,n){var i=t.getElementById(n._containerId),a=DV.viewers[n._key];(n.page||n.aid)&&a&&n._changeView(a),i&&a&&(i.style.visibility="visible",a.elements.pages.show())},end:function(e,n){var i=t.getElementById(n._containerId);i&&DV.viewers[n._key]&&(i.style.visibility="hidden",DV.viewers[n._key].elements.pages.hide())},_teardown:function(e){var i=t.getElementById(e._containerId),a=e._key;if(a&&DV.viewers[a]&&0===--n[a].num){for(DV.viewers[a].api.unload();i.hasChildNodes();)i.removeChild(i.lastChild);i.parentNode.removeChild(i)}}})}(Popcorn,window.document),function(e){var t,n="http://popcornjs.org/code/modules/player/popcorn.player.js",i=/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(youtu|vimeo|soundcloud|baseplayer)/,a={},r={vimeo:!1,youtube:!1,soundcloud:!1,module:!1};Object.defineProperty(a,t,{get:function(){return r[t]},set:function(e){r[t]=e}}),e.plugin("mediaspawner",{manifest:{about:{name:"Popcorn Media Spawner Plugin",version:"0.1",author:"Matthew Schranz, @mjschranz",website:"mschranz.wordpress.com"},options:{source:{elem:"input",type:"text",label:"Media Source","default":"http://www.youtube.com/watch?v=CXDstfD9eJ0"},caption:{elem:"input",type:"text",label:"Media Caption","default":"Popcorn Popping",optional:!0},target:"mediaspawner-container",start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},autoplay:{elem:"input",type:"checkbox",label:"Autoplay Video",optional:!0},width:{elem:"input",type:"number",label:"Media Width","default":400,units:"px",optional:!0},height:{elem:"input",type:"number",label:"Media Height","default":200,units:"px",optional:!0}}},_setup:function(t){function r(){function n(){"HTML5"===s||window.Popcorn[s]?(t.id=t._container.id,t._container.style.width=t.width+"px",t._container.style.height=t.height+"px",t.popcorn=e.smart("#"+t.id,t.source),"HTML5"===s&&t.popcorn.controls(!0),t._container.style.width="0px",t._container.style.height="0px",t._container.style.visibility="hidden",t._container.style.overflow="hidden"):setTimeout(function(){n()},300)}"HTML5"===s||window.Popcorn[s]||a[s]?n():(a[s]=!0,e.getScript("http://popcornjs.org/code/players/"+s+"/popcorn."+s+".js",function(){n()}))}function o(){window.Popcorn.player?r():setTimeout(function(){o()},300)}var s,u,d,l,c=document.getElementById(t.target)||{};l=i.exec(t.source),l?(s=l[1],"youtu"===s&&(s="youtube")):s="HTML5",t._type=s,t._container=document.createElement("div"),u=t._container,u.id="mediaSpawnerdiv-"+e.guid(),t.width=t.width||400,t.height=t.height||200,t.caption&&(d=document.createElement("div"),d.innerHTML=t.caption,d.style.display="none",t._capCont=d,u.appendChild(d)),c&&c.appendChild(u),window.Popcorn.player||a.module?o():(a.module=!0,e.getScript(n,o)),t.toString=function(){return t.source||t._natives.manifest.options.source["default"]}},start:function(e,t){t._capCont&&(t._capCont.style.display=""),t._container.style.width=t.width+"px",t._container.style.height=t.height+"px",t._container.style.visibility="visible",t._container.style.overflow="visible",t.autoplay&&t.popcorn.play()},end:function(e,t){t._capCont&&(t._capCont.style.display="none"),t._container.style.width="0px",t._container.style.height="0px",t._container.style.visibility="hidden",t._container.style.overflow="hidden",t.popcorn.pause()},_teardown:function(e){e.popcorn&&e.popcorn.destory&&e.popcorn.destroy(),document.getElementById(e.target)&&document.getElementById(e.target).removeChild(e._container)}})}(Popcorn,this),function(e){var t=1;e.plugin("timeline",function(e){var n,i=document.getElementById(e.target),a=document.createElement("div"),r=!0;return i&&!i.firstChild?(i.appendChild(n=document.createElement("div")),n.style.width="inherit",n.style.height="inherit",n.style.overflow="auto"):n=i.firstChild,a.style.display="none",a.id="timelineDiv"+t,e.direction=e.direction||"up","down"===e.direction.toLowerCase()&&(r=!1),i&&n&&(r?n.insertBefore(a,n.firstChild):n.appendChild(a)),t++,a.innerHTML="<p><span id='big' style='font-size:24px; line-height: 130%;' >"+e.title+"</span><br /><span id='mid' style='font-size: 16px;'>"+e.text+"</span><br />"+e.innerHTML,{start:function(e,t){a.style.display="block","down"===t.direction&&(n.scrollTop=n.scrollHeight)},end:function(){a.style.display="none"},_teardown:function(){n&&a&&n.removeChild(a)&&!n.firstChild&&i.removeChild(n)}}},{about:{name:"Popcorn Timeline Plugin",version:"0.1",author:"David Seifried @dcseifried",website:"dseifried.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"feed-container",title:{elem:"input",type:"text",label:"Title"},text:{elem:"input",type:"text",label:"Text"},innerHTML:{elem:"input",type:"text",label:"HTML Code",optional:!0},direction:{elem:"select",options:["DOWN","UP"],label:"Direction",optional:!0}}})}(Popcorn),function(e){var t=0;e.plugin("flickr",function(n){var i,a,r,o,s,u=document.getElementById(n.target),d=n.numberofimages||4,l=n.height||"50px",c=n.width||"50px",p=n.padding||"5px",f=n.border||"0px";i=document.createElement("div"),i.id="flickr"+t,i.style.width="100%",i.style.height="100%",i.style.display="none",t++,u&&u.appendChild(i);var m=function(){a?setTimeout(function(){m()},5):(r="http://api.flickr.com/services/rest/?method=flickr.people.findByUsername&",r+="username="+n.username+"&api_key="+n.apikey+"&format=json&jsoncallback=flickr",e.getJSONP(r,function(e){a=e.user.nsid,h()}))},h=function(){r="http://api.flickr.com/services/feeds/photos_public.gne?",a&&(r+="id="+a+"&"),n.tags&&(r+="tags="+n.tags+"&"),r+="lang=en-us&format=json&jsoncallback=flickr",e.xhr.getJSONP(r,function(t){var n=document.createElement("div");n.innerHTML="<p style='padding:"+p+";'>"+t.title+"<p/>",e.forEach(t.items,function(e,t){return d>t?(o=document.createElement("a"),o.setAttribute("href",e.link),o.setAttribute("target","_blank"),s=document.createElement("img"),s.setAttribute("src",e.media.m),s.setAttribute("height",l),s.setAttribute("width",c),s.setAttribute("style","border:"+f+";padding:"+p),o.appendChild(s),n.appendChild(o),void 0):!1}),i.appendChild(n)})};return n.username&&n.apikey?m():(a=n.userid,h()),n.toString=function(){return n.tags||n.username||"Flickr"},{start:function(){i.style.display="inline"},end:function(){i.style.display="none"},_teardown:function(e){document.getElementById(e.target)&&document.getElementById(e.target).removeChild(i)}}},{about:{name:"Popcorn Flickr Plugin",version:"0.2",author:"Scott Downe, Steven Weerdenburg, Annasob",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},userid:{elem:"input",type:"text",label:"User ID",optional:!0},tags:{elem:"input",type:"text",label:"Tags"},username:{elem:"input",type:"text",label:"Username",optional:!0},apikey:{elem:"input",type:"text",label:"API Key",optional:!0},target:"flickr-container",height:{elem:"input",type:"text",label:"Height","default":"50px",optional:!0},width:{elem:"input",type:"text",label:"Width","default":"50px",optional:!0},padding:{elem:"input",type:"text",label:"Padding",optional:!0},border:{elem:"input",type:"text",label:"Border","default":"5px",optional:!0},numberofimages:{elem:"input",type:"number","default":4,label:"Number of Images"}}})}(Popcorn),function(e){e.plugin("webpage",{manifest:{about:{name:"Popcorn Webpage Plugin",version:"0.1",author:"@annasob",website:"annasob.wordpress.com"},options:{id:{elem:"input",type:"text",label:"Id",optional:!0},start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},src:{elem:"input",type:"url",label:"Webpage URL","default":"http://mozillapopcorn.org"},target:"iframe-container"}},_setup:function(e){var t=document.getElementById(e.target);e.src=e.src.replace(/^(https?:)?(\/\/)?/,"//"),e._iframe=document.createElement("iframe"),e._iframe.setAttribute("width","100%"),e._iframe.setAttribute("height","100%"),e._iframe.id=e.id,e._iframe.src=e.src,e._iframe.style.display="none",t&&t.appendChild(e._iframe)},start:function(e,t){t._iframe.src=t.src,t._iframe.style.display="inline"},end:function(e,t){t._iframe.style.display="none"},_teardown:function(e){document.getElementById(e.target)&&document.getElementById(e.target).removeChild(e._iframe)}})}(Popcorn),function(e){var t,n={},i=0,a=function(e){n[e]=document.createElement("div");var t=document.getElementById(e);return t&&t.appendChild(n[e]),n[e].style.height="100%",n[e].style.position="relative",n[e]},r=document.createElement("span"),o=["webkit","Moz","ms","O",""],s=["Transform","TransitionDuration","TransitionTimingFunction"],u={};document.getElementsByTagName("head")[0].appendChild(r);for(var d=0,l=s.length;l>d;d++)for(var c=0,p=o.length;p>c;c++)if(t=o[c]+s[d],t in r.style){u[s[d].toLowerCase()]=t;break}document.getElementsByTagName("head")[0].appendChild(r),e.plugin("wordriver",{manifest:{about:{name:"Popcorn WordRiver Plugin"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"wordriver-container",text:{elem:"input",type:"text",label:"Text","default":"Popcorn.js"},color:{elem:"input",type:"text",label:"Color","default":"Green",optional:!0}}},_setup:function(e){e._duration=e.end-e.start,e._container=n[e.target]||a(e.target),e.word=document.createElement("span"),e.word.style.position="absolute",e.word.style.whiteSpace="nowrap",e.word.style.opacity=0,e.word.style.MozTransitionProperty="opacity, -moz-transform",e.word.style.webkitTransitionProperty="opacity, -webkit-transform",e.word.style.OTransitionProperty="opacity, -o-transform",e.word.style.transitionProperty="opacity, transform",e.word.style[u.transitionduration]="1s, "+e._duration+"s",e.word.style[u.transitiontimingfunction]="linear",e.word.innerHTML=e.text,e.word.style.color=e.color||"black"},start:function(e,t){t._container.appendChild(t.word),t.word.style[u.transform]="",t.word.style.fontSize=~~(30+20*Math.random())+"px",i%=t._container.offsetWidth-t.word.offsetWidth,t.word.style.left=i+"px",i+=t.word.offsetWidth+10,t.word.style[u.transform]="translateY("+(t._container.offsetHeight-t.word.offsetHeight)+"px)",t.word.style.opacity=1,setTimeout(function(){t.word.style.opacity=0},1e3*(t.end-t.start-1||1))},end:function(e,t){t.word.style.opacity=0},_teardown:function(e){var t=document.getElementById(e.target);e.word.parentNode&&e._container.removeChild(e.word),n[e.target]&&!n[e.target].childElementCount&&t&&t.removeChild(n[e.target])&&delete n[e.target]}})}(Popcorn);var googleCallback;!function(e){function t(e,t,n){var i,a=e.type?e.type.toUpperCase():"HYBRID";("STAMEN-WATERCOLOR"===a||"STAMEN-TERRAIN"===a||"STAMEN-TONER"===a)&&(i=a.replace("STAMEN-","").toLowerCase());var r=new google.maps.Map(n,{mapTypeId:i?i:google.maps.MapTypeId[a],mapTypeControlOptions:{mapTypeIds:[]}});return i&&r.mapTypes.set(i,new google.maps.StamenMapType(i)),r.getDiv().style.display="none",r}var n,i,a=1,r=!1,o=!1;googleCallback=function(t){"undefined"!=typeof google&&google.maps&&google.maps.Geocoder&&google.maps.LatLng?(n=new google.maps.Geocoder,e.getScript("//maps.stamen.com/js/tile.stamen.js",function(){o=!0})):setTimeout(function(){googleCallback(t)},1)},i=function(){document.body?(r=!0,e.getScript("//maps.google.com/maps/api/js?sensor=false&callback=googleCallback")):setTimeout(function(){i()},1)},e.plugin("googlemap",function(e){var s,u,d,l=document.getElementById(e.target);e.type=e.type||"ROADMAP",e.zoom=e.zoom||1,e.lat=e.lat||0,e.lng=e.lng||0,r||i(),s=document.createElement("div"),s.id="actualmap"+a,s.style.width=e.width||"100%",s.style.height=e.height?e.height:l&&l.clientHeight?l.clientHeight+"px":"100%",a++,l&&l.appendChild(s);var c=function(){o?s&&(e.location?n.geocode({address:e.location},function(n,i){s&&i===google.maps.GeocoderStatus.OK&&(e.lat=n[0].geometry.location.lat(),e.lng=n[0].geometry.location.lng(),d=new google.maps.LatLng(e.lat,e.lng),u=t(e,d,s))}):(d=new google.maps.LatLng(e.lat,e.lng),u=t(e,d,s))):setTimeout(function(){c()},5)};return c(),e.toString=function(){return e.location||(e.lat&&e.lng?e.lat+", "+e.lng:e._natives.manifest.options.location["default"])},{start:function(e,t){var n,i=this,a=function(){if(u){if(t._map=u,u.getDiv().style.display="block",google.maps.event.trigger(u,"resize"),u.setCenter(d),t.zoom&&"number"!=typeof t.zoom&&(t.zoom=+t.zoom),u.setZoom(t.zoom),t.heading&&"number"!=typeof t.heading&&(t.heading=+t.heading),t.pitch&&"number"!=typeof t.pitch&&(t.pitch=+t.pitch),"STREETVIEW"===t.type){u.setStreetView(n=new google.maps.StreetViewPanorama(s,{position:d,pov:{heading:t.heading=t.heading||0,pitch:t.pitch=t.pitch||0,zoom:t.zoom}}));var e=function(n,a){var s=google.maps.geometry.spherical.computeHeading;setTimeout(function(){var a=i.media.currentTime;if("object"==typeof t.tween){for(var u=0,d=n.length;d>u;u++){var l=n[u];a>=l.interval*(u+1)/1e3&&(a<=l.interval*(u+2)/1e3||a>=l.interval*d/1e3)&&(m.setPosition(new google.maps.LatLng(l.position.lat,l.position.lng)),m.setPov({heading:l.pov.heading||s(l,n[u+1])||0,zoom:l.pov.zoom||0,pitch:l.pov.pitch||0}))}e(n,n[0].interval)}else{for(var c=0,p=n.length;p>c;c++){var f=t.interval;a>=f*(c+1)/1e3&&(f*(c+2)/1e3>=a||a>=f*p/1e3)&&(r.setPov({heading:s(n[c],n[c+1])||0,zoom:t.zoom,pitch:t.pitch||0}),r.setPosition(o[c]))}e(o,t.interval)}},a)};if(t.location&&"string"==typeof t.tween){var r=n,o=[],l=new google.maps.DirectionsService,c=new google.maps.DirectionsRenderer(r),p={origin:t.location,destination:t.tween,travelMode:google.maps.TravelMode.DRIVING};l.route(p,function(e,t){t==google.maps.DirectionsStatus.OK&&(c.setDirections(e),f(e,i))});var f=function(n){for(var i=n.routes[0].overview_path,a=0,r=i.length;r>a;a++)o.push(new google.maps.LatLng(i[a].lat(),i[a].lng()));t.interval=t.interval||1e3,e(o,10)}}else if("object"==typeof t.tween)for(var m=n,h=0,g=t.tween.length;g>h;h++)t.tween[h].interval=t.tween[h].interval||1e3,e(t.tween,10)}t.onmaploaded&&t.onmaploaded(t,u)}else setTimeout(function(){a()},13)};a()},end:function(){u&&(u.getDiv().style.display="none")},_teardown:function(e){var t=document.getElementById(e.target);t&&t.removeChild(s),s=u=d=null,e._map=null}}},{about:{name:"Popcorn Google Map Plugin",version:"0.1",author:"@annasob",website:"annasob.wordpress.com"},options:{start:{elem:"input",type:"start",label:"Start"},end:{elem:"input",type:"start",label:"End"},target:"map-container",type:{elem:"select",options:["ROADMAP","SATELLITE","STREETVIEW","HYBRID","TERRAIN","STAMEN-WATERCOLOR","STAMEN-TERRAIN","STAMEN-TONER"],label:"Map Type",optional:!0},zoom:{elem:"input",type:"text",label:"Zoom","default":0,optional:!0},lat:{elem:"input",type:"text",label:"Lat",optional:!0},lng:{elem:"input",type:"text",label:"Lng",optional:!0},location:{elem:"input",type:"text",label:"Location","default":"Toronto, Ontario, Canada"},heading:{elem:"input",type:"text",label:"Heading","default":0,optional:!0},pitch:{elem:"input",type:"text",label:"Pitch","default":1,optional:!0}}})}(Popcorn),function(e){e.plugin("mustache",function(t){var n,i,a,r;e.getScript("http://mustache.github.com/extras/mustache.js");var o=!!t.dynamic,s=typeof t.template,u=typeof t.data,d=document.getElementById(t.target);return t.container=d||document.createElement("div"),"function"===s?o?a=t.template:r=t.template(t):r="string"===s?t.template:"","function"===u?o?n=t.data:i=t.data(t):i="string"===u?JSON.parse(t.data):"object"===u?t.data:"",{start:function(e,t){var o=function(){if(window.Mustache){n&&(i=n(t)),a&&(r=a(t));var e=Mustache.to_html(r,i).replace(/^\s*/gm,"");t.container.innerHTML=e}else setTimeout(function(){o()},10)};o()},end:function(e,t){t.container.innerHTML=""},_teardown:function(){n=i=a=r=null}}},{about:{name:"Popcorn Mustache Plugin",version:"0.1",author:"David Humphrey (@humphd)",website:"http://vocamus.net/dave"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"mustache-container",template:{elem:"input",type:"text",label:"Template"},data:{elem:"input",type:"text",label:"Data"},dynamic:{elem:"input",type:"checkbox",label:"Dynamic","default":!0}}})}(Popcorn),document.addEventListener("click",function(e){var t=e.target;("A"===t.nodeName||t.parentNode&&"A"===t.parentNode.nodeName)&&Popcorn.instances.forEach(function(e){e.options.pauseOnLinkClicked&&e.pause()})},!1),function(e){e.plugin("footnote",{manifest:{about:{name:"Popcorn Footnote Plugin",version:"0.2",author:"@annasob, @rwaldron",website:"annasob.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},text:{elem:"input",type:"text",label:"Text"},target:"footnote-container"}},_setup:function(t){var n=e.dom.find(t.target);
t._container=document.createElement("div"),t._container.style.display="none",t._container.innerHTML=t.text,n.appendChild(t._container)},start:function(e,t){t._container.style.display="inline"},end:function(e,t){t._container.style.display="none"},_teardown:function(t){var n=e.dom.find(t.target);n&&n.removeChild(t._container)}})}(Popcorn),function(e){var t=1,n=!1;e.plugin("googlefeed",function(i){var a=function(){var t=!1,i=0,a=document.getElementsByTagName("link"),r=a.length,o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("link"),u="//www.google.com/uds/solutions/dynamicfeed/gfdynamicfeedcontrol.";for(window.GFdynamicFeedControl?n=!0:e.getScript(u+"js",function(){n=!0});r>i;i++)a[i].href===u+"css"&&(t=!0);t||(s.type="text/css",s.rel="stylesheet",s.href=u+"css",o.insertBefore(s,o.firstChild))};window.google?a():e.getScript("//www.google.com/jsapi",function(){google.load("feeds","1",{callback:function(){a()}})});var r=document.createElement("div"),o=document.getElementById(i.target),s=function(){n?i.feed=new GFdynamicFeedControl(i.url,r,{vertical:"vertical"===i.orientation.toLowerCase()?!0:!1,horizontal:"horizontal"===i.orientation.toLowerCase()?!0:!1,title:i.title=i.title||"Blog"}):setTimeout(function(){s()},5)};return(!i.orientation||"vertical"!==i.orientation.toLowerCase()&&"horizontal"!==i.orientation.toLowerCase())&&(i.orientation="vertical"),r.style.display="none",r.id="_feed"+t,r.style.width="100%",r.style.height="100%",t++,o&&o.appendChild(r),s(),i.toString=function(){return i.url||i._natives.manifest.options.url["default"]},{start:function(){r.setAttribute("style","display:inline")},end:function(){r.setAttribute("style","display:none")},_teardown:function(e){document.getElementById(e.target)&&document.getElementById(e.target).removeChild(r),delete e.feed}}},{about:{name:"Popcorn Google Feed Plugin",version:"0.1",author:"David Seifried",website:"dseifried.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"feed-container",url:{elem:"input",type:"url",label:"Feed URL","default":"http://planet.mozilla.org/rss20.xml"},title:{elem:"input",type:"text",label:"Title","default":"Planet Mozilla",optional:!0},orientation:{elem:"select",options:["Vertical","Horizontal"],label:"Orientation","default":"Vertical",optional:!0}}})}(Popcorn),function(e){function t(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(e){return a[e]||e})}function n(e){return e.replace(/\r?\n/gm,"<br>")}function i(e,t){var n=e.container=document.createElement("div"),i=n.style,a=e.media,r=function(){var t=e.position();i.fontSize="18px",i.width=a.offsetWidth+"px",i.top=t.top+a.offsetHeight-n.offsetHeight-40+"px",i.left=t.left+"px",setTimeout(r,10)};return n.id=t||"",i.position="absolute",i.color="white",i.textShadow="black 2px 2px 6px",i.fontWeight="bold",i.textAlign="center",r(),e.media.parentNode.appendChild(n),n}var a={"&":"&","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};e.plugin("text",{manifest:{about:{name:"Popcorn Text Plugin",version:"0.1",author:"@humphd"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},text:{elem:"input",type:"text",label:"Text","default":"Popcorn.js"},escape:{elem:"input",type:"checkbox",label:"Escape"},multiline:{elem:"input",type:"checkbox",label:"Multiline"}}},_setup:function(a){var r,o,s=a._container=document.createElement("div");s.style.display="none",a.target?(r=e.dom.find(a.target),r?["VIDEO","AUDIO"].indexOf(r.nodeName)>-1&&(r=i(this,a.target+"-overlay")):r=i(this,a.target)):r=this.container?this.container:i(this),a._target=r,o=a.escape?t(a.text):a.text,o=a.multiline?n(o):o,s.innerHTML=o||"",r.appendChild(s),a.toString=function(){return a.text||a._natives.manifest.options.text["default"]}},start:function(e,t){t._container.style.display="inline"},end:function(e,t){t._container.style.display="none"},_teardown:function(e){var t=e._target;t&&t.removeChild(e._container)}})}(Popcorn),function(e){e.plugin("code",function(t){var n=!1,i=this,a=function(){var e=function(e){return function(t,a){var r=function(){n&&t.call(i,a),n&&e(r)};r()}};return e(window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame:window.mozRequestAnimationFrame?window.mozRequestAnimationFrame:function(e){window.setTimeout(e,16)})}();return t.onStart&&"function"==typeof t.onStart||(t.onStart=e.nop),t.onEnd&&"function"!=typeof t.onEnd&&(t.onEnd=void 0),t.onFrame&&"function"!=typeof t.onFrame&&(t.onFrame=void 0),{start:function(e,t){t.onStart.call(i,t),t.onFrame&&(n=!0,a(t.onFrame,t))},end:function(e,t){t.onFrame&&(n=!1),t.onEnd&&t.onEnd.call(i,t)}}},{about:{name:"Popcorn Code Plugin",version:"0.1",author:"David Humphrey (@humphd)",website:"http://vocamus.net/dave"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},onStart:{elem:"input",type:"function",label:"onStart"},onFrame:{elem:"input",type:"function",label:"onFrame",optional:!0},onEnd:{elem:"input",type:"function",label:"onEnd"}}})}(Popcorn),function(e){function t(e){function t(){var t=e.getBoundingClientRect(),n=r.getBoundingClientRect();n.left!==t.left&&(r.style.left=t.left+"px"),n.top!==t.top&&(r.style.top=t.top+"px")}var a=-1,r=document.createElement("div"),o=getComputedStyle(e).zIndex;return r.setAttribute("data-popcorn-helper-container",!0),r.style.position="absolute",r.style.zIndex=isNaN(o)?n:o+1,document.body.appendChild(r),{element:r,start:function(){a=setInterval(t,i)},stop:function(){clearInterval(a),a=-1},destroy:function(){document.body.removeChild(r),-1!==a&&clearInterval(a)}}}var n=2e3,i=10;e.plugin("image",{manifest:{about:{name:"Popcorn image Plugin",version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},src:{elem:"input",type:"url",label:"Image URL","default":"http://mozillapopcorn.org/wp-content/themes/popcorn/images/for_developers.png"},href:{elem:"input",type:"url",label:"Link","default":"http://mozillapopcorn.org/wp-content/themes/popcorn/images/for_developers.png",optional:!0},target:"image-container",text:{elem:"input",type:"text",label:"Caption","default":"Popcorn.js",optional:!0}}},_setup:function(n){var i=document.createElement("img"),a=document.getElementById(n.target);n.anchor=document.createElement("a"),n.anchor.style.position="relative",n.anchor.style.textDecoration="none",n.anchor.style.display="none",a&&(["VIDEO","AUDIO"].indexOf(a.nodeName)>-1?(n.trackedContainer=t(a),n.trackedContainer.element.appendChild(n.anchor)):a&&a.appendChild(n.anchor)),i.addEventListener("load",function(){i.style.borderStyle="none",n.anchor.href=n.href||n.src||"#",n.anchor.target="_blank";var t,r;i.style.height=a.style.height,i.style.width=a.style.width,n.anchor.appendChild(i),n.text&&(t=i.height/12+"px",r=document.createElement("div"),e.extend(r.style,{color:"black",fontSize:t,fontWeight:"bold",position:"relative",textAlign:"center",width:i.style.width||i.width+"px",zIndex:"10"}),r.innerHTML=n.text||"",r.style.top=(i.style.height.replace("px","")||i.height)/2-r.offsetHeight/2+"px",n.anchor.insertBefore(r,i))},!1),i.src=n.src,n.toString=function(){var e=n.src||n._natives.manifest.options.src["default"],t=e.replace(/.*\//g,"");return t.length?t:e}},start:function(e,t){t.anchor.style.display="inline",t.trackedContainer&&t.trackedContainer.start()},end:function(e,t){t.anchor.style.display="none",t.trackedContainer&&t.trackedContainer.stop()},_teardown:function(e){e.trackedContainer?e.trackedContainer.destroy():e.anchor.parentNode&&e.anchor.parentNode.removeChild(e.anchor)}})}(Popcorn),function(e){e.parser("parseXML","XML",function(t){for(var n={title:"",remote:"",data:[]},i={},a=function(e){var t=e.split(":");return 1===t.length?parseFloat(t[0],10):2===t.length?parseFloat(t[0],10)+parseFloat(t[1]/12,10):3===t.length?parseInt(60*t[0],10)+parseFloat(t[1],10)+parseFloat(t[2]/12,10):4===t.length?parseInt(3600*t[0],10)+parseInt(60*t[1],10)+parseFloat(t[2],10)+parseFloat(t[3]/12,10):void 0},r=function(e){for(var t={},n=0,r=e.length;r>n;n++){var o=e.item(n).nodeName,s=e.item(n).nodeValue,u=i[s];if("in"===o)t.start=a(s);else if("out"===o)t.end=a(s);else if("resourceid"===o)for(var d in u)u.hasOwnProperty(d)&&(t[d]||"id"===d||(t[d]=u[d]));else t[o]=s}return t},o=function(e,t){var n={};return n[e]=t,n},s=function(t,a,u){var d={};e.extend(d,a,r(t.attributes),{text:t.textContent||t.text});var l=t.childNodes;if(l.length<1||1===l.length&&3===l[0].nodeType)u?i[d.id]=d:n.data.push(o(t.nodeName,d));else for(var c=0;c<l.length;c++)1===l[c].nodeType&&s(l[c],d,u)},u=t.documentElement.childNodes,d=0,l=u.length;l>d;d++)1===u[d].nodeType&&("manifest"===u[d].nodeName?s(u[d],{},!0):s(u[d],{},!1));return n})}(Popcorn),function(e){e.parser("parseSBV",function(e){var t,n={title:"",remote:"",data:[]},i=[],a=0,r=0,o=function(e){var t,n=e.split(":"),i=n.length-1;try{t=60*parseInt(n[i-1],10)+parseFloat(n[i],10),2===i&&(t+=3600*parseInt(n[0],10))}catch(a){throw"Bad cue"}return t},s=function(e,t){var n={};return n[e]=t,n};for(t=e.text.split(/(?:\r\n|\r|\n)/gm),r=t.length;r>a;){var u={},d=[],l=t[a++].split(",");try{for(u.start=o(l[0]),u.end=o(l[1]);r>a&&t[a];)d.push(t[a++]);u.text=d.join("<br />"),i.push(s("subtitle",u))}catch(c){for(;r>a&&t[a];)a++}for(;r>a&&!t[a];)a++}return n.data=i,n})}(Popcorn),function(e){e.parser("parseJSON","JSON",function(t){var n={title:"",remote:"",data:[]},i=t;return e.forEach(i.data,function(e){n.data.push(e)}),n})}(Popcorn),function(e){e.parser("parseTTXT",function(e){for(var t={title:"",remote:"",data:[]},n=function(e){var t=e.split(":"),n=0;try{return 60*parseFloat(t[0],10)*60+60*parseFloat(t[1],10)+parseFloat(t[2],10)}catch(i){n=0}return n},i=function(e,t){var n={};return n[e]=t,n},a=e.xml.lastChild.lastChild,r=Number.MAX_VALUE,o=[];a;){if(1===a.nodeType&&"TextSample"===a.nodeName){var s={};s.start=n(a.getAttribute("sampleTime")),s.text=a.getAttribute("text"),s.text&&(s.end=r-.001,o.push(i("subtitle",s))),r=s.start}a=a.previousSibling}return t.data=o.reverse(),t})}(Popcorn),function(e){function t(e,r,o){for(var s,u=e.firstChild,d=n(e,o),l=[];u;)1===u.nodeType&&("p"===u.nodeName?l.push(i(u,r,d)):"div"===u.nodeName&&(s=a(u.getAttribute("begin")),0>s&&(s=r),l.push.apply(l,t(u,s,d)))),u=u.nextSibling;return l}function n(e,t){var n=e.getAttribute("region");return null!==n?n:t||""}function i(e,t,i){var r={};return r.text=(e.textContent||e.text).replace(s,"").replace(u,"<br />"),r.id=e.getAttribute("xml:id")||e.getAttribute("id"),r.start=a(e.getAttribute("begin"),t),r.end=a(e.getAttribute("end"),t),r.target=n(e,i),r.end<0&&(r.end=a(e.getAttribute("duration"),0),r.end>=0?r.end+=r.start:r.end=Number.MAX_VALUE),{subtitle:r}}function a(t,n){var i;if(!t)return-1;try{return e.util.toSeconds(t)}catch(a){return i=r(t),parseFloat(t.substring(0,i))*o(t.substring(i))+(n||0)}}function r(e){for(var t=e.length-1;t>=0&&e[t]<="9"&&e[t]>="0";)t--;return t}function o(e){return{h:3600,m:60,s:1,ms:.001}[e]||-1}var s=/^[\s]+|[\s]+$/gm,u=/(?:\r\n|\r|\n)/gm;e.parser("parseTTML",function(e){var n,i={title:"",remote:"",data:[]};if(!e.xml||!e.xml.documentElement)return i;if(n=e.xml.documentElement.firstChild,!n)return i;for(;"body"!==n.nodeName;)n=n.nextSibling;return n&&(i.data=t(n,0)),i})}(Popcorn),function(e){function t(e){var t,n=e.split(":"),i=e.length;if(12!==i&&9!==i)throw"Bad cue";i=n.length-1;try{t=60*parseInt(n[i-1],10)+parseFloat(n[i],10),2===i&&(t+=3600*parseInt(n[0],10))}catch(a){throw"Bad cue"}return t}function n(e,t){var n={};return n[e]=t,n}function i(e){var n,i={},a=/-->/,r=/[\t ]+/;if(!e||-1===e.indexOf("-->"))throw"Bad cue";if(n=e.replace(a," --> ").split(r),n.length<2)throw"Bad cue";return i.id=e,i.start=t(n[0]),i.end=t(n[2]),i}function a(e,t,n){for(;t>n&&!e[n];)n++;return n}function r(e,t,n){for(;t>n&&e[n];)n++;return n}e.parser("parseVTT",function(e){var t,o,s,u={title:"",remote:"",data:[]},d=[],l=0,c=0,p=/(?:\r\n|\r|\n)/gm;if(t=e.text.split(p),c=t.length,0===c||"WEBVTT"!==t[0])return u;for(l++;c>l;){o=[];try{for(l=a(t,c,l),s=i(t[l++]);c>l&&t[l];)o.push(t[l++]);s.text=o.join("<br />"),d.push(n("subtitle",s))}catch(f){l=r(t,c,l)}}return u.data=d,u})}(Popcorn),function(e){function t(e,t){var a,r=e.substr(10).split(","),o=/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,s=/\\N/gi;if(a={start:n(r[t.start]),end:n(r[t.end])},-1===a.start||-1===a.end)throw"Invalid time";return a.text=i(r,t.text).replace(o,"").replace(s,"<br />"),a}function n(e){var t=e.split(":");return 10!==e.length||t.length<3?-1:3600*parseInt(t[0],10)+60*parseInt(t[1],10)+parseFloat(t[2],10)}function i(e,t){for(var n=e.length,i=[],a=t;n>a;a++)i.push(e[a]);return i.join(",")}function a(e,t){var n={};return n[e]=t,n}function r(e){var t,n,i=e.substr(8).split(", "),a={};for(n=0,t=i.length;t>n;n++)"Start"===i[n]?a.start=n:"End"===i[n]?a.end=n:"Text"===i[n]&&(a.text=n);return a}e.parser("parseSSA",function(e){var n,i,o,s={title:"",remote:"",data:[]},u=/(?:\r\n|\r|\n)/gm,d=[],l=0;for(n=e.text.split(u),o=n.length;o>l&&"[Events]"!==n[l];)l++;for(i=r(n[++l]);++l<o&&n[l]&&"["!==n[l][0];)try{d.push(a("subtitle",t(n[l],i)))}catch(c){}return s.data=d,s})}(Popcorn),function(e){function t(e,t){var n={};return n[e]=t,n}function n(e){var t=e.split(":");try{var n=t[2].split(",");return 1===n.length&&(n=t[2].split(".")),3600*parseFloat(t[0],10)+60*parseFloat(t[1],10)+parseFloat(n[0],10)+parseFloat(n[1],10)/1e3}catch(i){return 0}}function i(e,t){for(var n=t;!e[n];)n++;return n}function a(e){for(var t=e.length-1;t>=0&&!e[t];)t--;return t}e.parser("parseSRT",function(e,r){var o,s,u,d,l,c={title:"",remote:"",data:[]},p=[],f=0,m=0;for(o=e.text.split(/(?:\r\n|\r|\n)/gm),d=a(o)+1,f=0;d>f;f++){for(l={},u=[],f=i(o,f),l.id=parseInt(o[f++],10),s=o[f++].split(/[\t ]*-->[\t ]*/),l.start=n(s[0]),m=s[1].indexOf(" "),-1!==m&&(s[1]=s[1].substr(0,m)),l.end=n(s[1]);d>f&&o[f];)u.push(o[f++]);l.text=u.join("\\N").replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,""),l.text=l.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"),l.text=l.text.replace(/&lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:\".*?\"|'.*?'|[^'\">\s]+))?)+\s*|\s*)(\/?)&gt;/gi,"<$1$3$7>"),l.text=l.text.replace(/\\N/gi,"<br />"),r&&r.target&&(l.target=r.target),p.push(t("subtitle",l))}return c.data=p,c})}(Popcorn),function(e,t){t.player("vimeo",{_canPlayType:function(e,n){return"string"==typeof n&&t.HTMLVimeoVideoElement._canPlaySrc(n)}}),t.vimeo=function(e,n,i){"undefined"!=typeof console&&console.warn&&console.warn("Deprecated player 'vimeo'. Please use Popcorn.HTMLVimeoVideoElement directly.");var a=t.HTMLVimeoVideoElement(e),r=t(a,i);return setTimeout(function(){a.src=n},0),r}}(window,Popcorn),function(e,t){var n=function(e,n){return"string"==typeof n&&t.HTMLYouTubeVideoElement._canPlaySrc(n)};t.player("youtube",{_canPlayType:n}),t.youtube=function(e,n,i){"undefined"!=typeof console&&console.warn&&console.warn("Deprecated player 'youtube'. Please use Popcorn.HTMLYouTubeVideoElement directly.");var a=t.HTMLYouTubeVideoElement(e),r=t(a,i);return setTimeout(function(){a.src=n},0),r},t.youtube.canPlayType=n}(window,Popcorn),function(e,t){t.player("soundcloud",{_canPlayType:function(e,n){return"string"==typeof n&&t.HTMLSoundCloudAudioElement._canPlaySrc(n)&&"audio"!==e.toLowerCase()}}),t.soundcloud=function(e,n,i){"undefined"!=typeof console&&console.warn&&console.warn("Deprecated player 'soundcloud'. Please use Popcorn.HTMLSoundCloudAudioElement directly.");var a=t.HTMLSoundCloudAudioElement(e),r=t(a,i);return setTimeout(function(){a.src=n},0),r}}(window,Popcorn),function(e){var t=function(t,n){var i,a=0,r=0;e.forEach(n.classes,function(e,t){for(i=[],"parent"===e?i[0]=document.querySelectorAll("#"+n.target)[0].parentNode:i=document.querySelectorAll("#"+n.target+" "+e),a=0,r=i.length;r>a;a++)i[a].classList.toggle(t)})};e.compose("applyclass",{manifest:{about:{name:"Popcorn applyclass Effect",version:"0.1",author:"@scottdowne",website:"scottdowne.wordpress.com"},options:{}},_setup:function(e){e.classes={},e.applyclass=e.applyclass||"";for(var t=e.applyclass.replace(/\s/g,"").split(","),n=[],i=0,a=t.length;a>i;i++)n=t[i].split(":"),n[0]&&(e.classes[n[0]]=n[1]||"")},start:t,end:t})}(Popcorn);